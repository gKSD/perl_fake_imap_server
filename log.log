2014/10/27 04:03:58 123 $VAR1 = [];
2014/10/27 04:03:58 123 $VAR1 = [
          'seen'
        ];
2014/10/27 04:03:58 After all parse: $VAR1 = bless( {
                 'client' => undef,
                 'connection_number' => 0,
                 'test' => [
                             {
                               'test' => {
                                           'uids' => [
                                                       '10',
                                                       '11',
                                                       '12'
                                                     ]
                                         },
                               'Inbox' => {
                                            'uidvalidity' => [
                                                               '13123'
                                                             ],
                                            'flags' => [
                                                         'hashnochildren',
                                                         'noselect'
                                                       ],
                                            'uids' => [
                                                        '001',
                                                        '002',
                                                        '003',
                                                        '005'
                                                      ]
                                          }
                             },
                             {
                               'test' => {
                                           'uids' => [
                                                       '10'
                                                     ]
                                         },
                               'inbox' => {
                                            'uids' => [
                                                        {
                                                          '002' => [
                                                                     'seen',
                                                                     'answered'
                                                                   ]
                                                        },
                                                        {
                                                          '005' => [
                                                                     'seen',
                                                                     'answered'
                                                                   ]
                                                        },
                                                        {
                                                          '003' => []
                                                        }
                                                      ]
                                          }
                             }
                           ],
                 'init_params' => {
                                    'test' => 'tests/test2',
                                    'mode' => 'config',
                                    'silentmode' => 'on',
                                    'port' => '8877',
                                    'log_file' => 'log.log',
                                    'message' => 'message.eml',
                                    'host' => 'localhost',
                                    'pid_file' => '/tmp/server.pid',
                                    'log_level' => '3',
                                    'config' => 'config.conf'
                                  },
                 'server' => undef,
                 'logger' => bless( {
                                      'is_OFF' => sub { "DUMMY" },
                                      'is_DEBUG' => sub { "DUMMY" },
                                      'ERROR' => sub { "DUMMY" },
                                      'is_INFO' => sub { "DUMMY" },
                                      'layout' => undef,
                                      'category' => 'fake_imap_server',
                                      'is_TRACE' => sub { "DUMMY" },
                                      'DEBUG' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ALL' => sub { "DUMMY" },
                                      'additivity' => 1,
                                      'TRACE' => sub { "DUMMY" },
                                      'ALL' => $VAR1->{'logger'}{'TRACE'},
                                      'is_FATAL' => sub { "DUMMY" },
                                      'is_WARN' => sub { "DUMMY" },
                                      'FATAL' => $VAR1->{'logger'}{'ERROR'},
                                      'appender_names' => [],
                                      'WARN' => $VAR1->{'logger'}{'ERROR'},
                                      'INFO' => $VAR1->{'logger'}{'ERROR'},
                                      'level' => undef,
                                      'num_appenders' => 0,
                                      'OFF' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ERROR' => sub { "DUMMY" }
                                    }, 'Log::Log4perl::Logger' ),
                 'imap' => {
                             'capability' => [
                                               '* CAPABILITY IMAP',
                                               '* CAPABILITY ID XLIST UIDPLUS UNSELECT MOVE',
                                               'OK CAPABILITY completed'
                                             ],
                             'login' => [
                                          '* CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE',
                                          'OK Authentication successful'
                                        ]
                           }
               }, 'fake_imap_server' );
2014/10/27 04:04:13 123 $VAR1 = [];
2014/10/27 04:04:13 123 $VAR1 = [
          'seen'
        ];
2014/10/27 04:04:13 After all parse: $VAR1 = bless( {
                 'client' => undef,
                 'connection_number' => 0,
                 'test' => [
                             {
                               'test' => {
                                           'uids' => [
                                                       '10',
                                                       '11',
                                                       '12'
                                                     ]
                                         },
                               'Inbox' => {
                                            'uidvalidity' => [
                                                               '13123'
                                                             ],
                                            'flags' => [
                                                         'hashnochildren',
                                                         'noselect'
                                                       ],
                                            'uids' => [
                                                        '001',
                                                        '002',
                                                        '003',
                                                        '005'
                                                      ]
                                          }
                             },
                             {
                               'test' => {
                                           'uids' => [
                                                       '10'
                                                     ]
                                         },
                               'inbox' => {
                                            'uids' => [
                                                        {
                                                          '002' => [
                                                                     'seen',
                                                                     'answered'
                                                                   ]
                                                        },
                                                        {
                                                          '005' => [
                                                                     'seen',
                                                                     'answered'
                                                                   ]
                                                        },
                                                        {
                                                          '003' => []
                                                        }
                                                      ]
                                          }
                             }
                           ],
                 'init_params' => {
                                    'test' => 'tests/test2',
                                    'mode' => 'config',
                                    'silentmode' => 'on',
                                    'port' => '8877',
                                    'log_file' => 'log.log',
                                    'message' => 'message.eml',
                                    'host' => 'localhost',
                                    'pid_file' => '/tmp/server.pid',
                                    'log_level' => '3',
                                    'config' => 'config.conf'
                                  },
                 'server' => undef,
                 'logger' => bless( {
                                      'is_OFF' => sub { "DUMMY" },
                                      'is_DEBUG' => sub { "DUMMY" },
                                      'ERROR' => sub { "DUMMY" },
                                      'is_INFO' => sub { "DUMMY" },
                                      'layout' => undef,
                                      'category' => 'fake_imap_server',
                                      'is_TRACE' => sub { "DUMMY" },
                                      'DEBUG' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ALL' => sub { "DUMMY" },
                                      'additivity' => 1,
                                      'TRACE' => sub { "DUMMY" },
                                      'ALL' => $VAR1->{'logger'}{'TRACE'},
                                      'is_FATAL' => sub { "DUMMY" },
                                      'is_WARN' => sub { "DUMMY" },
                                      'FATAL' => $VAR1->{'logger'}{'ERROR'},
                                      'appender_names' => [],
                                      'WARN' => $VAR1->{'logger'}{'ERROR'},
                                      'INFO' => $VAR1->{'logger'}{'ERROR'},
                                      'level' => undef,
                                      'num_appenders' => 0,
                                      'OFF' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ERROR' => sub { "DUMMY" }
                                    }, 'Log::Log4perl::Logger' ),
                 'imap' => {
                             'capability' => [
                                               '* CAPABILITY IMAP',
                                               '* CAPABILITY ID XLIST UIDPLUS UNSELECT MOVE',
                                               'OK CAPABILITY completed'
                                             ],
                             'login' => [
                                          '* CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE',
                                          'OK Authentication successful'
                                        ]
                           }
               }, 'fake_imap_server' );
2014/10/27 04:04:57 mode = 1
2014/10/27 04:04:57 client connected to pid 1542
2014/10/27 04:04:57 <<<: 1 LOGIN test@localhost "123123123"
2014/10/27 04:04:57 >>>: * CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE
2014/10/27 04:04:57 >>>: OK Authentication successful
2014/10/27 04:04:57 <<<: 2 CAPABILITY
2014/10/27 04:04:57 >>>: * CAPABILITY IMAP
2014/10/27 04:04:57 >>>: * CAPABILITY ID XLIST UIDPLUS UNSELECT MOVE
2014/10/27 04:04:57 >>>: OK CAPABILITY completed
2014/10/27 04:04:57 <<<: 3 XLIST "" *
2014/10/27 04:04:57 >>>: * XLIST () "/" "test"
2014/10/27 04:04:57 >>>: * XLIST (\hashnochildren \noselect) "/" "Inbox"
2014/10/27 04:04:57 >>>: OK LIST completed
2014/10/27 04:04:57 <<<: 4 STATUS "Inbox" (UIDNEXT MESSAGES UIDVALIDITY)
2014/10/27 04:04:57 run_cmd_status: Inbox, UIDNEXT MESSAGES UIDVALIDITY
2014/10/27 04:05:17 <<<: 5 STATUS "test" (UIDNEXT MESSAGES UIDVALIDITY)
2014/10/27 04:05:17 run_cmd_status: test, UIDNEXT MESSAGES UIDVALIDITY
2014/10/27 04:05:17 <<<: 6 LOGOUT
2014/10/27 04:12:35 123 $VAR1 = [];
2014/10/27 04:12:35 123 $VAR1 = [
          'seen'
        ];
2014/10/27 04:12:35 After all parse: $VAR1 = bless( {
                 'client' => undef,
                 'connection_number' => 0,
                 'test' => [
                             {
                               'test' => {
                                           'uids' => [
                                                       '10',
                                                       '11',
                                                       '12'
                                                     ]
                                         },
                               'Inbox' => {
                                            'uidvalidity' => [
                                                               '13123'
                                                             ],
                                            'flags' => [
                                                         'hashnochildren',
                                                         'noselect'
                                                       ],
                                            'uids' => [
                                                        '001',
                                                        '002',
                                                        '003',
                                                        '005'
                                                      ]
                                          }
                             },
                             {
                               'test' => {
                                           'uids' => [
                                                       '10'
                                                     ]
                                         },
                               'inbox' => {
                                            'uids' => [
                                                        {
                                                          '002' => [
                                                                     'seen',
                                                                     'answered'
                                                                   ]
                                                        },
                                                        {
                                                          '005' => [
                                                                     'seen',
                                                                     'answered'
                                                                   ]
                                                        },
                                                        {
                                                          '003' => []
                                                        }
                                                      ]
                                          }
                             }
                           ],
                 'init_params' => {
                                    'test' => 'tests/test2',
                                    'mode' => 'config',
                                    'silentmode' => 'on',
                                    'port' => '8877',
                                    'log_file' => 'log.log',
                                    'message' => 'message.eml',
                                    'host' => 'localhost',
                                    'pid_file' => '/tmp/server.pid',
                                    'log_level' => '3',
                                    'config' => 'config.conf'
                                  },
                 'server' => undef,
                 'logger' => bless( {
                                      'is_OFF' => sub { "DUMMY" },
                                      'is_DEBUG' => sub { "DUMMY" },
                                      'ERROR' => sub { "DUMMY" },
                                      'is_INFO' => sub { "DUMMY" },
                                      'layout' => undef,
                                      'category' => 'fake_imap_server',
                                      'is_TRACE' => sub { "DUMMY" },
                                      'DEBUG' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ALL' => sub { "DUMMY" },
                                      'additivity' => 1,
                                      'TRACE' => sub { "DUMMY" },
                                      'ALL' => $VAR1->{'logger'}{'TRACE'},
                                      'is_FATAL' => sub { "DUMMY" },
                                      'is_WARN' => sub { "DUMMY" },
                                      'FATAL' => $VAR1->{'logger'}{'ERROR'},
                                      'appender_names' => [],
                                      'WARN' => $VAR1->{'logger'}{'ERROR'},
                                      'INFO' => $VAR1->{'logger'}{'ERROR'},
                                      'level' => undef,
                                      'num_appenders' => 0,
                                      'OFF' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ERROR' => sub { "DUMMY" }
                                    }, 'Log::Log4perl::Logger' ),
                 'imap' => {
                             'capability' => [
                                               '* CAPABILITY IMAP',
                                               '* CAPABILITY ID XLIST UIDPLUS UNSELECT MOVE',
                                               'OK CAPABILITY completed'
                                             ],
                             'login' => [
                                          '* CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE',
                                          'OK Authentication successful'
                                        ]
                           }
               }, 'fake_imap_server' );
2014/10/27 04:12:51 mode = 1
2014/10/27 04:12:51 client connected to pid 3044
2014/10/27 04:12:51 <<<: 1 LOGIN test@localhost "123123123"
2014/10/27 04:12:51 >>>: * CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE
2014/10/27 04:12:51 >>>: OK Authentication successful
2014/10/27 04:12:51 <<<: 2 CAPABILITY
2014/10/27 04:12:51 >>>: * CAPABILITY IMAP
2014/10/27 04:12:51 >>>: * CAPABILITY ID XLIST UIDPLUS UNSELECT MOVE
2014/10/27 04:12:51 >>>: OK CAPABILITY completed
2014/10/27 04:12:51 <<<: 3 XLIST "" *
2014/10/27 04:12:51 >>>: * XLIST () "/" "test"
2014/10/27 04:12:51 >>>: * XLIST (\hashnochildren \noselect) "/" "Inbox"
2014/10/27 04:12:51 >>>: OK LIST completed
2014/10/27 04:12:51 <<<: 4 STATUS "Inbox" (UIDNEXT MESSAGES UIDVALIDITY)
2014/10/27 04:13:11 <<<: 5 STATUS "test" (UIDNEXT MESSAGES UIDVALIDITY)
2014/10/27 04:13:11 <<<: 6 LOGOUT
2014/10/27 04:14:51 123 $VAR1 = [];
2014/10/27 04:14:51 123 $VAR1 = [
          'seen'
        ];
2014/10/27 04:14:51 After all parse: $VAR1 = bless( {
                 'client' => undef,
                 'connection_number' => 0,
                 'test' => [
                             {
                               'test' => {
                                           'uids' => [
                                                       '10',
                                                       '11',
                                                       '12'
                                                     ]
                                         },
                               'Inbox' => {
                                            'uidvalidity' => [
                                                               '13123'
                                                             ],
                                            'flags' => [
                                                         'hashnochildren',
                                                         'noselect'
                                                       ],
                                            'uids' => [
                                                        '001',
                                                        '002',
                                                        '003',
                                                        '005'
                                                      ]
                                          }
                             },
                             {
                               'test' => {
                                           'uids' => [
                                                       '10'
                                                     ]
                                         },
                               'inbox' => {
                                            'uids' => [
                                                        {
                                                          '002' => [
                                                                     'seen',
                                                                     'answered'
                                                                   ]
                                                        },
                                                        {
                                                          '005' => [
                                                                     'seen',
                                                                     'answered'
                                                                   ]
                                                        },
                                                        {
                                                          '003' => []
                                                        }
                                                      ]
                                          }
                             }
                           ],
                 'init_params' => {
                                    'test' => 'tests/test2',
                                    'mode' => 'config',
                                    'silentmode' => 'on',
                                    'port' => '8877',
                                    'log_file' => 'log.log',
                                    'message' => 'message.eml',
                                    'host' => 'localhost',
                                    'pid_file' => '/tmp/server.pid',
                                    'log_level' => '3',
                                    'config' => 'config.conf'
                                  },
                 'server' => undef,
                 'logger' => bless( {
                                      'is_OFF' => sub { "DUMMY" },
                                      'is_DEBUG' => sub { "DUMMY" },
                                      'ERROR' => sub { "DUMMY" },
                                      'is_INFO' => sub { "DUMMY" },
                                      'layout' => undef,
                                      'category' => 'fake_imap_server',
                                      'is_TRACE' => sub { "DUMMY" },
                                      'DEBUG' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ALL' => sub { "DUMMY" },
                                      'additivity' => 1,
                                      'TRACE' => sub { "DUMMY" },
                                      'ALL' => $VAR1->{'logger'}{'TRACE'},
                                      'is_FATAL' => sub { "DUMMY" },
                                      'is_WARN' => sub { "DUMMY" },
                                      'FATAL' => $VAR1->{'logger'}{'ERROR'},
                                      'appender_names' => [],
                                      'WARN' => $VAR1->{'logger'}{'ERROR'},
                                      'INFO' => $VAR1->{'logger'}{'ERROR'},
                                      'level' => undef,
                                      'num_appenders' => 0,
                                      'OFF' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ERROR' => sub { "DUMMY" }
                                    }, 'Log::Log4perl::Logger' ),
                 'imap' => {
                             'capability' => [
                                               '* CAPABILITY IMAP',
                                               '* CAPABILITY ID XLIST UIDPLUS UNSELECT MOVE',
                                               'OK CAPABILITY completed'
                                             ],
                             'login' => [
                                          '* CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE',
                                          'OK Authentication successful'
                                        ]
                           }
               }, 'fake_imap_server' );
2014/10/27 04:14:59 mode = 1
2014/10/27 04:14:59 client connected to pid 3473
2014/10/27 04:14:59 <<<: 1 LOGIN test@localhost "123123123"
2014/10/27 04:14:59 >>>: * CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE
2014/10/27 04:14:59 >>>: OK Authentication successful
2014/10/27 04:14:59 <<<: 2 CAPABILITY
2014/10/27 04:14:59 >>>: * CAPABILITY IMAP
2014/10/27 04:14:59 >>>: * CAPABILITY ID XLIST UIDPLUS UNSELECT MOVE
2014/10/27 04:14:59 >>>: OK CAPABILITY completed
2014/10/27 04:14:59 <<<: 3 XLIST "" *
2014/10/27 04:14:59 >>>: * XLIST () "/" "test"
2014/10/27 04:14:59 >>>: * XLIST (\hashnochildren \noselect) "/" "Inbox"
2014/10/27 04:14:59 >>>: OK LIST completed
2014/10/27 04:14:59 <<<: 4 STATUS "Inbox" (UIDNEXT MESSAGES UIDVALIDITY)
2014/10/27 04:14:59 123 $VAR1 = 'STATUS "[Gmail]/&BBoEPgRABDcEOAQ9BDA-" (UIDNEXT MESSAGES UIDVALIDITY)';
2014/10/27 04:15:19 <<<: 5 STATUS "test" (UIDNEXT MESSAGES UIDVALIDITY)
2014/10/27 04:15:19 123 $VAR1 = 'STATUS "[Gmail]/&BBoEPgRABDcEOAQ9BDA-" (UIDNEXT MESSAGES UIDVALIDITY)';
2014/10/27 04:15:19 <<<: 6 LOGOUT
2014/10/27 04:15:42 123 $VAR1 = [];
2014/10/27 04:15:42 123 $VAR1 = [
          'seen'
        ];
2014/10/27 04:15:42 After all parse: $VAR1 = bless( {
                 'client' => undef,
                 'connection_number' => 0,
                 'test' => [
                             {
                               'test' => {
                                           'uids' => [
                                                       '10',
                                                       '11',
                                                       '12'
                                                     ]
                                         },
                               'Inbox' => {
                                            'uidvalidity' => [
                                                               '13123'
                                                             ],
                                            'flags' => [
                                                         'hashnochildren',
                                                         'noselect'
                                                       ],
                                            'uids' => [
                                                        '001',
                                                        '002',
                                                        '003',
                                                        '005'
                                                      ]
                                          }
                             },
                             {
                               'test' => {
                                           'uids' => [
                                                       '10'
                                                     ]
                                         },
                               'inbox' => {
                                            'uids' => [
                                                        {
                                                          '002' => [
                                                                     'seen',
                                                                     'answered'
                                                                   ]
                                                        },
                                                        {
                                                          '005' => [
                                                                     'seen',
                                                                     'answered'
                                                                   ]
                                                        },
                                                        {
                                                          '003' => []
                                                        }
                                                      ]
                                          }
                             }
                           ],
                 'init_params' => {
                                    'test' => 'tests/test2',
                                    'mode' => 'config',
                                    'silentmode' => 'on',
                                    'port' => '8877',
                                    'log_file' => 'log.log',
                                    'message' => 'message.eml',
                                    'host' => 'localhost',
                                    'pid_file' => '/tmp/server.pid',
                                    'log_level' => '3',
                                    'config' => 'config.conf'
                                  },
                 'server' => undef,
                 'logger' => bless( {
                                      'is_OFF' => sub { "DUMMY" },
                                      'is_DEBUG' => sub { "DUMMY" },
                                      'ERROR' => sub { "DUMMY" },
                                      'is_INFO' => sub { "DUMMY" },
                                      'layout' => undef,
                                      'category' => 'fake_imap_server',
                                      'is_TRACE' => sub { "DUMMY" },
                                      'DEBUG' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ALL' => sub { "DUMMY" },
                                      'additivity' => 1,
                                      'TRACE' => sub { "DUMMY" },
                                      'ALL' => $VAR1->{'logger'}{'TRACE'},
                                      'is_FATAL' => sub { "DUMMY" },
                                      'is_WARN' => sub { "DUMMY" },
                                      'FATAL' => $VAR1->{'logger'}{'ERROR'},
                                      'appender_names' => [],
                                      'WARN' => $VAR1->{'logger'}{'ERROR'},
                                      'INFO' => $VAR1->{'logger'}{'ERROR'},
                                      'level' => undef,
                                      'num_appenders' => 0,
                                      'OFF' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ERROR' => sub { "DUMMY" }
                                    }, 'Log::Log4perl::Logger' ),
                 'imap' => {
                             'capability' => [
                                               '* CAPABILITY IMAP',
                                               '* CAPABILITY ID XLIST UIDPLUS UNSELECT MOVE',
                                               'OK CAPABILITY completed'
                                             ],
                             'login' => [
                                          '* CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE',
                                          'OK Authentication successful'
                                        ]
                           }
               }, 'fake_imap_server' );
2014/10/27 04:15:45 mode = 1
2014/10/27 04:15:45 client connected to pid 3625
2014/10/27 04:15:45 <<<: 1 LOGIN test@localhost "123123123"
2014/10/27 04:15:45 >>>: * CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE
2014/10/27 04:15:45 >>>: OK Authentication successful
2014/10/27 04:15:45 <<<: 2 CAPABILITY
2014/10/27 04:15:45 >>>: * CAPABILITY IMAP
2014/10/27 04:15:45 >>>: * CAPABILITY ID XLIST UIDPLUS UNSELECT MOVE
2014/10/27 04:15:45 >>>: OK CAPABILITY completed
2014/10/27 04:15:45 <<<: 3 XLIST "" *
2014/10/27 04:15:45 >>>: * XLIST () "/" "test"
2014/10/27 04:15:45 >>>: * XLIST (\hashnochildren \noselect) "/" "Inbox"
2014/10/27 04:15:45 >>>: OK LIST completed
2014/10/27 04:15:45 <<<: 4 STATUS "Inbox" (UIDNEXT MESSAGES UIDVALIDITY)
2014/10/27 04:15:45 123 $VAR1 = 'STATUS "[Gmail]/&BBoEPgRABDcEOAQ9BDA-" (UIDNEXT MESSAGES UIDVALIDITY)';
2014/10/27 04:16:05 <<<: 5 STATUS "test" (UIDNEXT MESSAGES UIDVALIDITY)
2014/10/27 04:16:05 123 $VAR1 = 'STATUS "[Gmail]/&BBoEPgRABDcEOAQ9BDA-" (UIDNEXT MESSAGES UIDVALIDITY)';
2014/10/27 04:16:05 <<<: 6 LOGOUT
2014/10/27 04:16:41 123 $VAR1 = [];
2014/10/27 04:16:41 123 $VAR1 = [
          'seen'
        ];
2014/10/27 04:16:41 After all parse: $VAR1 = bless( {
                 'client' => undef,
                 'connection_number' => 0,
                 'test' => [
                             {
                               'test' => {
                                           'uids' => [
                                                       '10',
                                                       '11',
                                                       '12'
                                                     ]
                                         },
                               'Inbox' => {
                                            'uidvalidity' => [
                                                               '13123'
                                                             ],
                                            'flags' => [
                                                         'hashnochildren',
                                                         'noselect'
                                                       ],
                                            'uids' => [
                                                        '001',
                                                        '002',
                                                        '003',
                                                        '005'
                                                      ]
                                          }
                             },
                             {
                               'test' => {
                                           'uids' => [
                                                       '10'
                                                     ]
                                         },
                               'inbox' => {
                                            'uids' => [
                                                        {
                                                          '002' => [
                                                                     'seen',
                                                                     'answered'
                                                                   ]
                                                        },
                                                        {
                                                          '005' => [
                                                                     'seen',
                                                                     'answered'
                                                                   ]
                                                        },
                                                        {
                                                          '003' => []
                                                        }
                                                      ]
                                          }
                             }
                           ],
                 'init_params' => {
                                    'test' => 'tests/test2',
                                    'mode' => 'config',
                                    'silentmode' => 'on',
                                    'port' => '8877',
                                    'log_file' => 'log.log',
                                    'message' => 'message.eml',
                                    'host' => 'localhost',
                                    'pid_file' => '/tmp/server.pid',
                                    'log_level' => '3',
                                    'config' => 'config.conf'
                                  },
                 'server' => undef,
                 'logger' => bless( {
                                      'is_OFF' => sub { "DUMMY" },
                                      'is_DEBUG' => sub { "DUMMY" },
                                      'ERROR' => sub { "DUMMY" },
                                      'is_INFO' => sub { "DUMMY" },
                                      'layout' => undef,
                                      'category' => 'fake_imap_server',
                                      'is_TRACE' => sub { "DUMMY" },
                                      'DEBUG' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ALL' => sub { "DUMMY" },
                                      'additivity' => 1,
                                      'TRACE' => sub { "DUMMY" },
                                      'ALL' => $VAR1->{'logger'}{'TRACE'},
                                      'is_FATAL' => sub { "DUMMY" },
                                      'is_WARN' => sub { "DUMMY" },
                                      'FATAL' => $VAR1->{'logger'}{'ERROR'},
                                      'appender_names' => [],
                                      'WARN' => $VAR1->{'logger'}{'ERROR'},
                                      'INFO' => $VAR1->{'logger'}{'ERROR'},
                                      'level' => undef,
                                      'num_appenders' => 0,
                                      'OFF' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ERROR' => sub { "DUMMY" }
                                    }, 'Log::Log4perl::Logger' ),
                 'imap' => {
                             'capability' => [
                                               '* CAPABILITY IMAP',
                                               '* CAPABILITY ID XLIST UIDPLUS UNSELECT MOVE',
                                               'OK CAPABILITY completed'
                                             ],
                             'login' => [
                                          '* CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE',
                                          'OK Authentication successful'
                                        ]
                           }
               }, 'fake_imap_server' );
2014/10/27 04:16:44 mode = 1
2014/10/27 04:16:44 client connected to pid 3798
2014/10/27 04:16:44 <<<: 1 LOGIN test@localhost "123123123"
2014/10/27 04:16:44 >>>: * CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE
2014/10/27 04:16:44 >>>: OK Authentication successful
2014/10/27 04:16:44 <<<: 2 CAPABILITY
2014/10/27 04:16:44 >>>: * CAPABILITY IMAP
2014/10/27 04:16:44 >>>: * CAPABILITY ID XLIST UIDPLUS UNSELECT MOVE
2014/10/27 04:16:44 >>>: OK CAPABILITY completed
2014/10/27 04:16:44 <<<: 3 XLIST "" *
2014/10/27 04:16:44 >>>: * XLIST () "/" "test"
2014/10/27 04:16:44 >>>: * XLIST (\hashnochildren \noselect) "/" "Inbox"
2014/10/27 04:16:44 >>>: OK LIST completed
2014/10/27 04:16:44 <<<: 4 STATUS "Inbox" (UIDNEXT MESSAGES UIDVALIDITY)
2014/10/27 04:16:44 123 $VAR1 = 'STATUS "[Gmail]/&BBoEPgRABDcEOAQ9BDA-" (UIDNEXT MESSAGES UIDVALIDITY)';
2014/10/27 04:16:44 run_cmd_status: [Gmail]/&BBoEPgRABDcEOAQ9BDA-", UIDNEXT MESSAGES UIDVALIDITY
2014/10/27 04:16:44 run_cmd_status: \"folder\"", UIDNEXT MESSAGES UIDVALIDITY
2014/10/27 04:17:04 <<<: 5 STATUS "test" (UIDNEXT MESSAGES UIDVALIDITY)
2014/10/27 04:17:04 123 $VAR1 = 'STATUS "[Gmail]/&BBoEPgRABDcEOAQ9BDA-" (UIDNEXT MESSAGES UIDVALIDITY)';
2014/10/27 04:17:04 run_cmd_status: [Gmail]/&BBoEPgRABDcEOAQ9BDA-", UIDNEXT MESSAGES UIDVALIDITY
2014/10/27 04:17:04 run_cmd_status: \"folder\"", UIDNEXT MESSAGES UIDVALIDITY
2014/10/27 04:17:04 <<<: 6 LOGOUT
2014/10/27 04:27:22 123 $VAR1 = [];
2014/10/27 04:27:22 123 $VAR1 = [
          'seen'
        ];
2014/10/27 04:27:22 After all parse: $VAR1 = bless( {
                 'client' => undef,
                 'connection_number' => 0,
                 'test' => [
                             {
                               'test' => {
                                           'uids' => [
                                                       '10',
                                                       '11',
                                                       '12'
                                                     ]
                                         },
                               'Inbox' => {
                                            'uidvalidity' => [
                                                               '13123'
                                                             ],
                                            'flags' => [
                                                         'hashnochildren',
                                                         'noselect'
                                                       ],
                                            'uids' => [
                                                        '001',
                                                        '002',
                                                        '003',
                                                        '005'
                                                      ]
                                          }
                             },
                             {
                               'test' => {
                                           'uids' => [
                                                       '10'
                                                     ]
                                         },
                               'inbox' => {
                                            'uids' => [
                                                        {
                                                          '002' => [
                                                                     'seen',
                                                                     'answered'
                                                                   ]
                                                        },
                                                        {
                                                          '005' => [
                                                                     'seen',
                                                                     'answered'
                                                                   ]
                                                        },
                                                        {
                                                          '003' => []
                                                        }
                                                      ]
                                          }
                             }
                           ],
                 'init_params' => {
                                    'test' => 'tests/test2',
                                    'mode' => 'config',
                                    'silentmode' => 'on',
                                    'port' => '8877',
                                    'log_file' => 'log.log',
                                    'message' => 'message.eml',
                                    'host' => 'localhost',
                                    'pid_file' => '/tmp/server.pid',
                                    'log_level' => '3',
                                    'config' => 'config.conf'
                                  },
                 'server' => undef,
                 'logger' => bless( {
                                      'is_OFF' => sub { "DUMMY" },
                                      'is_DEBUG' => sub { "DUMMY" },
                                      'ERROR' => sub { "DUMMY" },
                                      'is_INFO' => sub { "DUMMY" },
                                      'layout' => undef,
                                      'category' => 'fake_imap_server',
                                      'is_TRACE' => sub { "DUMMY" },
                                      'DEBUG' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ALL' => sub { "DUMMY" },
                                      'additivity' => 1,
                                      'TRACE' => sub { "DUMMY" },
                                      'ALL' => $VAR1->{'logger'}{'TRACE'},
                                      'is_FATAL' => sub { "DUMMY" },
                                      'is_WARN' => sub { "DUMMY" },
                                      'FATAL' => $VAR1->{'logger'}{'ERROR'},
                                      'appender_names' => [],
                                      'WARN' => $VAR1->{'logger'}{'ERROR'},
                                      'INFO' => $VAR1->{'logger'}{'ERROR'},
                                      'level' => undef,
                                      'num_appenders' => 0,
                                      'OFF' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ERROR' => sub { "DUMMY" }
                                    }, 'Log::Log4perl::Logger' ),
                 'imap' => {
                             'capability' => [
                                               '* CAPABILITY IMAP',
                                               '* CAPABILITY ID XLIST UIDPLUS UNSELECT MOVE',
                                               'OK CAPABILITY completed'
                                             ],
                             'login' => [
                                          '* CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE',
                                          'OK Authentication successful'
                                        ]
                           }
               }, 'fake_imap_server' );
2014/10/27 04:27:25 mode = 1
2014/10/27 04:27:25 client connected to pid 5869
2014/10/27 04:27:25 <<<: 1 LOGIN test@localhost "123123123"
2014/10/27 04:27:26 >>>: * CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE
2014/10/27 04:27:26 >>>: OK Authentication successful
2014/10/27 04:27:26 <<<: 2 CAPABILITY
2014/10/27 04:27:26 >>>: * CAPABILITY IMAP
2014/10/27 04:27:26 >>>: * CAPABILITY ID XLIST UIDPLUS UNSELECT MOVE
2014/10/27 04:27:26 >>>: OK CAPABILITY completed
2014/10/27 04:27:26 <<<: 3 XLIST "" *
2014/10/27 04:27:26 >>>: * XLIST () "/" "test"
2014/10/27 04:27:26 >>>: * XLIST (\hashnochildren \noselect) "/" "Inbox"
2014/10/27 04:27:26 >>>: OK LIST completed
2014/10/27 04:27:26 <<<: 4 STATUS "Inbox" (UIDNEXT MESSAGES UIDVALIDITY)
2014/10/27 04:27:26 123 $VAR1 = '4 STATUS "Inbox" (UIDNEXT MESSAGES UIDVALIDITY)';
2014/10/27 04:27:26 run_cmd_status: $VAR1 = '4 STATUS "Inbox" (UIDNEXT MESSAGES UIDVALIDITY)';
2014/10/27 04:27:46 <<<: 5 STATUS "test" (UIDNEXT MESSAGES UIDVALIDITY)
2014/10/27 04:27:46 123 $VAR1 = '5 STATUS "test" (UIDNEXT MESSAGES UIDVALIDITY)';
2014/10/27 04:27:46 run_cmd_status: $VAR1 = '5 STATUS "test" (UIDNEXT MESSAGES UIDVALIDITY)';
2014/10/27 04:27:46 <<<: 6 LOGOUT
2014/10/27 04:32:22 123 $VAR1 = [];
2014/10/27 04:32:22 123 $VAR1 = [
          'seen'
        ];
2014/10/27 04:32:22 After all parse: $VAR1 = bless( {
                 'client' => undef,
                 'connection_number' => 0,
                 'test' => [
                             {
                               'test' => {
                                           'uids' => [
                                                       '10',
                                                       '11',
                                                       '12'
                                                     ]
                                         },
                               'Inbox' => {
                                            'uidvalidity' => [
                                                               '13123'
                                                             ],
                                            'flags' => [
                                                         'hashnochildren',
                                                         'noselect'
                                                       ],
                                            'uids' => [
                                                        '001',
                                                        '002',
                                                        '003',
                                                        '005'
                                                      ]
                                          }
                             },
                             {
                               'test' => {
                                           'uids' => [
                                                       '10'
                                                     ]
                                         },
                               'inbox' => {
                                            'uids' => [
                                                        {
                                                          '002' => [
                                                                     'seen',
                                                                     'answered'
                                                                   ]
                                                        },
                                                        {
                                                          '005' => [
                                                                     'seen',
                                                                     'answered'
                                                                   ]
                                                        },
                                                        {
                                                          '003' => []
                                                        }
                                                      ]
                                          }
                             }
                           ],
                 'init_params' => {
                                    'test' => 'tests/test2',
                                    'mode' => 'config',
                                    'silentmode' => 'on',
                                    'port' => '8877',
                                    'log_file' => 'log.log',
                                    'message' => 'message.eml',
                                    'host' => 'localhost',
                                    'pid_file' => '/tmp/server.pid',
                                    'log_level' => '3',
                                    'config' => 'config.conf'
                                  },
                 'server' => undef,
                 'logger' => bless( {
                                      'is_OFF' => sub { "DUMMY" },
                                      'is_DEBUG' => sub { "DUMMY" },
                                      'ERROR' => sub { "DUMMY" },
                                      'is_INFO' => sub { "DUMMY" },
                                      'layout' => undef,
                                      'category' => 'fake_imap_server',
                                      'is_TRACE' => sub { "DUMMY" },
                                      'DEBUG' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ALL' => sub { "DUMMY" },
                                      'additivity' => 1,
                                      'TRACE' => sub { "DUMMY" },
                                      'ALL' => $VAR1->{'logger'}{'TRACE'},
                                      'is_FATAL' => sub { "DUMMY" },
                                      'is_WARN' => sub { "DUMMY" },
                                      'FATAL' => $VAR1->{'logger'}{'ERROR'},
                                      'appender_names' => [],
                                      'WARN' => $VAR1->{'logger'}{'ERROR'},
                                      'INFO' => $VAR1->{'logger'}{'ERROR'},
                                      'level' => undef,
                                      'num_appenders' => 0,
                                      'OFF' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ERROR' => sub { "DUMMY" }
                                    }, 'Log::Log4perl::Logger' ),
                 'imap' => {
                             'capability' => [
                                               '* CAPABILITY IMAP',
                                               '* CAPABILITY ID XLIST UIDPLUS UNSELECT MOVE',
                                               'OK CAPABILITY completed'
                                             ],
                             'login' => [
                                          '* CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE',
                                          'OK Authentication successful'
                                        ]
                           }
               }, 'fake_imap_server' );
2014/10/27 04:32:28 mode = 1
2014/10/27 04:32:28 client connected to pid 6831
2014/10/27 04:32:28 <<<: 1 LOGIN test@localhost "123123123"
2014/10/27 04:32:28 >>>: * CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE
2014/10/27 04:32:28 >>>: OK Authentication successful
2014/10/27 04:32:28 <<<: 2 CAPABILITY
2014/10/27 04:32:28 >>>: * CAPABILITY IMAP
2014/10/27 04:32:28 >>>: * CAPABILITY ID XLIST UIDPLUS UNSELECT MOVE
2014/10/27 04:32:28 >>>: OK CAPABILITY completed
2014/10/27 04:32:28 <<<: 3 XLIST "" *
2014/10/27 04:32:28 >>>: * XLIST () "/" "test"
2014/10/27 04:32:28 >>>: * XLIST (\hashnochildren \noselect) "/" "Inbox"
2014/10/27 04:32:28 >>>: OK LIST completed
2014/10/27 04:32:28 <<<: 4 STATUS "Inbox" (UIDNEXT MESSAGES UIDVALIDITY)
2014/10/27 04:32:28 123 $VAR1 = '4 STATUS "Inbox" (UIDNEXT MESSAGES UIDVALIDITY)';
2014/10/27 04:32:28 run_cmd_status: $VAR1 = '4 STATUS "Inbox" ';
$VAR2 = 'UIDNEXT MESSAGES UIDVALIDITY)';
2014/10/27 04:32:48 <<<: 5 STATUS "test" (UIDNEXT MESSAGES UIDVALIDITY)
2014/10/27 04:32:48 123 $VAR1 = '5 STATUS "test" (UIDNEXT MESSAGES UIDVALIDITY)';
2014/10/27 04:32:48 run_cmd_status: $VAR1 = '5 STATUS "test" ';
$VAR2 = 'UIDNEXT MESSAGES UIDVALIDITY)';
2014/10/27 04:32:48 <<<: 6 LOGOUT
2014/10/27 04:44:57 123 $VAR1 = [];
2014/10/27 04:44:57 123 $VAR1 = [
          'seen'
        ];
2014/10/27 04:44:57 After all parse: $VAR1 = bless( {
                 'client' => undef,
                 'connection_number' => 0,
                 'test' => [
                             {
                               'test' => {
                                           'uids' => [
                                                       '10',
                                                       '11',
                                                       '12'
                                                     ]
                                         },
                               'Inbox' => {
                                            'uidvalidity' => [
                                                               '13123'
                                                             ],
                                            'flags' => [
                                                         'hashnochildren',
                                                         'noselect'
                                                       ],
                                            'uids' => [
                                                        '001',
                                                        '002',
                                                        '003',
                                                        '005'
                                                      ]
                                          }
                             },
                             {
                               'test' => {
                                           'uids' => [
                                                       '10'
                                                     ]
                                         },
                               'inbox' => {
                                            'uids' => [
                                                        {
                                                          '002' => [
                                                                     'seen',
                                                                     'answered'
                                                                   ]
                                                        },
                                                        {
                                                          '005' => [
                                                                     'seen',
                                                                     'answered'
                                                                   ]
                                                        },
                                                        {
                                                          '003' => []
                                                        }
                                                      ]
                                          }
                             }
                           ],
                 'init_params' => {
                                    'test' => 'tests/test2',
                                    'mode' => 'config',
                                    'silentmode' => 'on',
                                    'port' => '8877',
                                    'log_file' => 'log.log',
                                    'message' => 'message.eml',
                                    'host' => 'localhost',
                                    'pid_file' => '/tmp/server.pid',
                                    'log_level' => '3',
                                    'config' => 'config.conf'
                                  },
                 'server' => undef,
                 'logger' => bless( {
                                      'is_OFF' => sub { "DUMMY" },
                                      'is_DEBUG' => sub { "DUMMY" },
                                      'ERROR' => sub { "DUMMY" },
                                      'is_INFO' => sub { "DUMMY" },
                                      'layout' => undef,
                                      'category' => 'fake_imap_server',
                                      'is_TRACE' => sub { "DUMMY" },
                                      'DEBUG' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ALL' => sub { "DUMMY" },
                                      'additivity' => 1,
                                      'TRACE' => sub { "DUMMY" },
                                      'ALL' => $VAR1->{'logger'}{'TRACE'},
                                      'is_FATAL' => sub { "DUMMY" },
                                      'is_WARN' => sub { "DUMMY" },
                                      'FATAL' => $VAR1->{'logger'}{'ERROR'},
                                      'appender_names' => [],
                                      'WARN' => $VAR1->{'logger'}{'ERROR'},
                                      'INFO' => $VAR1->{'logger'}{'ERROR'},
                                      'level' => undef,
                                      'num_appenders' => 0,
                                      'OFF' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ERROR' => sub { "DUMMY" }
                                    }, 'Log::Log4perl::Logger' ),
                 'imap' => {
                             'capability' => [
                                               '* CAPABILITY IMAP',
                                               '* CAPABILITY ID XLIST UIDPLUS UNSELECT MOVE',
                                               'OK CAPABILITY completed'
                                             ],
                             'login' => [
                                          '* CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE',
                                          'OK Authentication successful'
                                        ]
                           }
               }, 'fake_imap_server' );
2014/10/27 04:45:05 123 $VAR1 = [];
2014/10/27 04:45:05 123 $VAR1 = [
          'seen'
        ];
2014/10/27 04:45:05 After all parse: $VAR1 = bless( {
                 'client' => undef,
                 'connection_number' => 0,
                 'test' => [
                             {
                               'test' => {
                                           'uids' => [
                                                       '10',
                                                       '11',
                                                       '12'
                                                     ]
                                         },
                               'Inbox' => {
                                            'uidvalidity' => [
                                                               '13123'
                                                             ],
                                            'flags' => [
                                                         'hashnochildren',
                                                         'noselect'
                                                       ],
                                            'uids' => [
                                                        '001',
                                                        '002',
                                                        '003',
                                                        '005'
                                                      ]
                                          }
                             },
                             {
                               'test' => {
                                           'uids' => [
                                                       '10'
                                                     ]
                                         },
                               'inbox' => {
                                            'uids' => [
                                                        {
                                                          '002' => [
                                                                     'seen',
                                                                     'answered'
                                                                   ]
                                                        },
                                                        {
                                                          '005' => [
                                                                     'seen',
                                                                     'answered'
                                                                   ]
                                                        },
                                                        {
                                                          '003' => []
                                                        }
                                                      ]
                                          }
                             }
                           ],
                 'init_params' => {
                                    'test' => 'tests/test2',
                                    'mode' => 'config',
                                    'silentmode' => 'on',
                                    'port' => '8877',
                                    'log_file' => 'log.log',
                                    'message' => 'message.eml',
                                    'host' => 'localhost',
                                    'pid_file' => '/tmp/server.pid',
                                    'log_level' => '3',
                                    'config' => 'config.conf'
                                  },
                 'server' => undef,
                 'logger' => bless( {
                                      'is_OFF' => sub { "DUMMY" },
                                      'is_DEBUG' => sub { "DUMMY" },
                                      'ERROR' => sub { "DUMMY" },
                                      'is_INFO' => sub { "DUMMY" },
                                      'layout' => undef,
                                      'category' => 'fake_imap_server',
                                      'is_TRACE' => sub { "DUMMY" },
                                      'DEBUG' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ALL' => sub { "DUMMY" },
                                      'additivity' => 1,
                                      'TRACE' => sub { "DUMMY" },
                                      'ALL' => $VAR1->{'logger'}{'TRACE'},
                                      'is_FATAL' => sub { "DUMMY" },
                                      'is_WARN' => sub { "DUMMY" },
                                      'FATAL' => $VAR1->{'logger'}{'ERROR'},
                                      'appender_names' => [],
                                      'WARN' => $VAR1->{'logger'}{'ERROR'},
                                      'INFO' => $VAR1->{'logger'}{'ERROR'},
                                      'level' => undef,
                                      'num_appenders' => 0,
                                      'OFF' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ERROR' => sub { "DUMMY" }
                                    }, 'Log::Log4perl::Logger' ),
                 'imap' => {
                             'capability' => [
                                               '* CAPABILITY IMAP',
                                               '* CAPABILITY ID XLIST UIDPLUS UNSELECT MOVE',
                                               'OK CAPABILITY completed'
                                             ],
                             'login' => [
                                          '* CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE',
                                          'OK Authentication successful'
                                        ]
                           }
               }, 'fake_imap_server' );
2014/10/27 04:45:08 mode = 1
2014/10/27 04:45:08 client connected to pid 9276
2014/10/27 04:45:08 <<<: 1 LOGIN test@localhost "123123123"
2014/10/27 04:45:08 >>>: * CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE
2014/10/27 04:45:08 >>>: OK Authentication successful
2014/10/27 04:45:08 <<<: 2 CAPABILITY
2014/10/27 04:45:08 >>>: * CAPABILITY IMAP
2014/10/27 04:45:08 >>>: * CAPABILITY ID XLIST UIDPLUS UNSELECT MOVE
2014/10/27 04:45:08 >>>: OK CAPABILITY completed
2014/10/27 04:45:08 <<<: 3 XLIST "" *
2014/10/27 04:45:08 >>>: * XLIST () "/" "test"
2014/10/27 04:45:08 >>>: * XLIST (\hashnochildren \noselect) "/" "Inbox"
2014/10/27 04:45:08 >>>: OK LIST completed
2014/10/27 04:45:08 <<<: 4 STATUS "Inbox" (UIDNEXT MESSAGES UIDVALIDITY)
2014/10/27 04:45:08 123 $VAR1 = '4 STATUS "Inbox" (UIDNEXT MESSAGES UIDVALIDITY)';
2014/10/27 04:45:28 <<<: 5 STATUS "test" (UIDNEXT MESSAGES UIDVALIDITY)
2014/10/27 04:45:28 123 $VAR1 = '5 STATUS "test" (UIDNEXT MESSAGES UIDVALIDITY)';
2014/10/27 04:45:28 <<<: 6 LOGOUT
2014/10/27 04:47:08 123 $VAR1 = [];
2014/10/27 04:47:08 123 $VAR1 = [
          'seen'
        ];
2014/10/27 04:47:08 After all parse: $VAR1 = bless( {
                 'client' => undef,
                 'connection_number' => 0,
                 'test' => [
                             {
                               'test' => {
                                           'uids' => [
                                                       '10',
                                                       '11',
                                                       '12'
                                                     ]
                                         },
                               'Inbox' => {
                                            'uidvalidity' => [
                                                               '13123'
                                                             ],
                                            'flags' => [
                                                         'hashnochildren',
                                                         'noselect'
                                                       ],
                                            'uids' => [
                                                        '001',
                                                        '002',
                                                        '003',
                                                        '005'
                                                      ]
                                          }
                             },
                             {
                               'test' => {
                                           'uids' => [
                                                       '10'
                                                     ]
                                         },
                               'inbox' => {
                                            'uids' => [
                                                        {
                                                          '002' => [
                                                                     'seen',
                                                                     'answered'
                                                                   ]
                                                        },
                                                        {
                                                          '005' => [
                                                                     'seen',
                                                                     'answered'
                                                                   ]
                                                        },
                                                        {
                                                          '003' => []
                                                        }
                                                      ]
                                          }
                             }
                           ],
                 'init_params' => {
                                    'test' => 'tests/test2',
                                    'mode' => 'config',
                                    'silentmode' => 'on',
                                    'port' => '8877',
                                    'log_file' => 'log.log',
                                    'message' => 'message.eml',
                                    'host' => 'localhost',
                                    'pid_file' => '/tmp/server.pid',
                                    'log_level' => '3',
                                    'config' => 'config.conf'
                                  },
                 'server' => undef,
                 'logger' => bless( {
                                      'is_OFF' => sub { "DUMMY" },
                                      'is_DEBUG' => sub { "DUMMY" },
                                      'ERROR' => sub { "DUMMY" },
                                      'is_INFO' => sub { "DUMMY" },
                                      'layout' => undef,
                                      'category' => 'fake_imap_server',
                                      'is_TRACE' => sub { "DUMMY" },
                                      'DEBUG' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ALL' => sub { "DUMMY" },
                                      'additivity' => 1,
                                      'TRACE' => sub { "DUMMY" },
                                      'ALL' => $VAR1->{'logger'}{'TRACE'},
                                      'is_FATAL' => sub { "DUMMY" },
                                      'is_WARN' => sub { "DUMMY" },
                                      'FATAL' => $VAR1->{'logger'}{'ERROR'},
                                      'appender_names' => [],
                                      'WARN' => $VAR1->{'logger'}{'ERROR'},
                                      'INFO' => $VAR1->{'logger'}{'ERROR'},
                                      'level' => undef,
                                      'num_appenders' => 0,
                                      'OFF' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ERROR' => sub { "DUMMY" }
                                    }, 'Log::Log4perl::Logger' ),
                 'imap' => {
                             'capability' => [
                                               '* CAPABILITY IMAP',
                                               '* CAPABILITY ID XLIST UIDPLUS UNSELECT MOVE',
                                               'OK CAPABILITY completed'
                                             ],
                             'login' => [
                                          '* CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE',
                                          'OK Authentication successful'
                                        ]
                           }
               }, 'fake_imap_server' );
2014/10/27 04:47:13 mode = 1
2014/10/27 04:47:13 client connected to pid 9634
2014/10/27 04:47:13 <<<: 1 LOGIN test@localhost "123123123"
2014/10/27 04:47:13 >>>: * CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE
2014/10/27 04:47:13 >>>: OK Authentication successful
2014/10/27 04:47:14 <<<: 2 CAPABILITY
2014/10/27 04:47:14 >>>: * CAPABILITY IMAP
2014/10/27 04:47:14 >>>: * CAPABILITY ID XLIST UIDPLUS UNSELECT MOVE
2014/10/27 04:47:14 >>>: OK CAPABILITY completed
2014/10/27 04:47:14 <<<: 3 XLIST "" *
2014/10/27 04:47:14 >>>: * XLIST () "/" "test"
2014/10/27 04:47:14 >>>: * XLIST (\hashnochildren \noselect) "/" "Inbox"
2014/10/27 04:47:14 >>>: OK LIST completed
2014/10/27 04:47:14 <<<: 4 STATUS "Inbox" (UIDNEXT MESSAGES UIDVALIDITY)
2014/10/27 04:47:14 123 $VAR1 = '4 STATUS "Inbox" (UIDNEXT MESSAGES UIDVALIDITY)';
2014/10/27 04:47:34 <<<: 5 STATUS "test" (UIDNEXT MESSAGES UIDVALIDITY)
2014/10/27 04:47:34 123 $VAR1 = '5 STATUS "test" (UIDNEXT MESSAGES UIDVALIDITY)';
2014/10/27 04:47:34 <<<: 6 LOGOUT
2014/10/27 04:48:22 123 $VAR1 = [];
2014/10/27 04:48:22 123 $VAR1 = [
          'seen'
        ];
2014/10/27 04:48:22 After all parse: $VAR1 = bless( {
                 'client' => undef,
                 'connection_number' => 0,
                 'test' => [
                             {
                               'test' => {
                                           'uids' => [
                                                       '10',
                                                       '11',
                                                       '12'
                                                     ]
                                         },
                               'Inbox' => {
                                            'uidvalidity' => [
                                                               '13123'
                                                             ],
                                            'flags' => [
                                                         'hashnochildren',
                                                         'noselect'
                                                       ],
                                            'uids' => [
                                                        '001',
                                                        '002',
                                                        '003',
                                                        '005'
                                                      ]
                                          }
                             },
                             {
                               'test' => {
                                           'uids' => [
                                                       '10'
                                                     ]
                                         },
                               'inbox' => {
                                            'uids' => [
                                                        {
                                                          '002' => [
                                                                     'seen',
                                                                     'answered'
                                                                   ]
                                                        },
                                                        {
                                                          '005' => [
                                                                     'seen',
                                                                     'answered'
                                                                   ]
                                                        },
                                                        {
                                                          '003' => []
                                                        }
                                                      ]
                                          }
                             }
                           ],
                 'init_params' => {
                                    'test' => 'tests/test2',
                                    'mode' => 'config',
                                    'silentmode' => 'on',
                                    'port' => '8877',
                                    'log_file' => 'log.log',
                                    'message' => 'message.eml',
                                    'host' => 'localhost',
                                    'pid_file' => '/tmp/server.pid',
                                    'log_level' => '3',
                                    'config' => 'config.conf'
                                  },
                 'server' => undef,
                 'logger' => bless( {
                                      'is_OFF' => sub { "DUMMY" },
                                      'is_DEBUG' => sub { "DUMMY" },
                                      'ERROR' => sub { "DUMMY" },
                                      'is_INFO' => sub { "DUMMY" },
                                      'layout' => undef,
                                      'category' => 'fake_imap_server',
                                      'is_TRACE' => sub { "DUMMY" },
                                      'DEBUG' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ALL' => sub { "DUMMY" },
                                      'additivity' => 1,
                                      'TRACE' => sub { "DUMMY" },
                                      'ALL' => $VAR1->{'logger'}{'TRACE'},
                                      'is_FATAL' => sub { "DUMMY" },
                                      'is_WARN' => sub { "DUMMY" },
                                      'FATAL' => $VAR1->{'logger'}{'ERROR'},
                                      'appender_names' => [],
                                      'WARN' => $VAR1->{'logger'}{'ERROR'},
                                      'INFO' => $VAR1->{'logger'}{'ERROR'},
                                      'level' => undef,
                                      'num_appenders' => 0,
                                      'OFF' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ERROR' => sub { "DUMMY" }
                                    }, 'Log::Log4perl::Logger' ),
                 'imap' => {
                             'capability' => [
                                               '* CAPABILITY IMAP',
                                               '* CAPABILITY ID XLIST UIDPLUS UNSELECT MOVE',
                                               'OK CAPABILITY completed'
                                             ],
                             'login' => [
                                          '* CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE',
                                          'OK Authentication successful'
                                        ]
                           }
               }, 'fake_imap_server' );
2014/10/27 04:48:25 mode = 1
2014/10/27 04:48:25 client connected to pid 9847
2014/10/27 04:48:25 <<<: 1 LOGIN test@localhost "123123123"
2014/10/27 04:48:25 >>>: * CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE
2014/10/27 04:48:25 >>>: OK Authentication successful
2014/10/27 04:48:25 <<<: 2 CAPABILITY
2014/10/27 04:48:25 >>>: * CAPABILITY IMAP
2014/10/27 04:48:25 >>>: * CAPABILITY ID XLIST UIDPLUS UNSELECT MOVE
2014/10/27 04:48:25 >>>: OK CAPABILITY completed
2014/10/27 04:48:25 <<<: 3 XLIST "" *
2014/10/27 04:48:25 >>>: * XLIST () "/" "test"
2014/10/27 04:48:25 >>>: * XLIST (\hashnochildren \noselect) "/" "Inbox"
2014/10/27 04:48:25 >>>: OK LIST completed
2014/10/27 04:48:25 <<<: 4 STATUS "Inbox" (UIDNEXT MESSAGES UIDVALIDITY)
2014/10/27 04:48:25 123 $VAR1 = '4 STATUS "Inbox" (UIDNEXT MESSAGES UIDVALIDITY)';
2014/10/27 04:48:25 fucking regexp
2014/10/27 04:48:45 <<<: 5 STATUS "test" (UIDNEXT MESSAGES UIDVALIDITY)
2014/10/27 04:48:45 123 $VAR1 = '5 STATUS "test" (UIDNEXT MESSAGES UIDVALIDITY)';
2014/10/27 04:48:45 fucking regexp
2014/10/27 04:48:45 <<<: 6 LOGOUT
2014/10/27 04:59:26 123 $VAR1 = [];
2014/10/27 04:59:26 123 $VAR1 = [
          'seen'
        ];
2014/10/27 04:59:26 After all parse: $VAR1 = bless( {
                 'client' => undef,
                 'connection_number' => 0,
                 'test' => [
                             {
                               'test' => {
                                           'uids' => [
                                                       '10',
                                                       '11',
                                                       '12'
                                                     ]
                                         },
                               'Inbox' => {
                                            'uidvalidity' => [
                                                               '13123'
                                                             ],
                                            'flags' => [
                                                         'hashnochildren',
                                                         'noselect'
                                                       ],
                                            'uids' => [
                                                        '001',
                                                        '002',
                                                        '003',
                                                        '005'
                                                      ]
                                          }
                             },
                             {
                               'test' => {
                                           'uids' => [
                                                       '10'
                                                     ]
                                         },
                               'inbox' => {
                                            'uids' => [
                                                        {
                                                          '002' => [
                                                                     'seen',
                                                                     'answered'
                                                                   ]
                                                        },
                                                        {
                                                          '005' => [
                                                                     'seen',
                                                                     'answered'
                                                                   ]
                                                        },
                                                        {
                                                          '003' => []
                                                        }
                                                      ]
                                          }
                             }
                           ],
                 'init_params' => {
                                    'test' => 'tests/test2',
                                    'mode' => 'config',
                                    'silentmode' => 'on',
                                    'port' => '8877',
                                    'log_file' => 'log.log',
                                    'message' => 'message.eml',
                                    'host' => 'localhost',
                                    'pid_file' => '/tmp/server.pid',
                                    'log_level' => '3',
                                    'config' => 'config.conf'
                                  },
                 'server' => undef,
                 'logger' => bless( {
                                      'is_OFF' => sub { "DUMMY" },
                                      'is_DEBUG' => sub { "DUMMY" },
                                      'ERROR' => sub { "DUMMY" },
                                      'is_INFO' => sub { "DUMMY" },
                                      'layout' => undef,
                                      'category' => 'fake_imap_server',
                                      'is_TRACE' => sub { "DUMMY" },
                                      'DEBUG' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ALL' => sub { "DUMMY" },
                                      'additivity' => 1,
                                      'TRACE' => sub { "DUMMY" },
                                      'ALL' => $VAR1->{'logger'}{'TRACE'},
                                      'is_FATAL' => sub { "DUMMY" },
                                      'is_WARN' => sub { "DUMMY" },
                                      'FATAL' => $VAR1->{'logger'}{'ERROR'},
                                      'appender_names' => [],
                                      'WARN' => $VAR1->{'logger'}{'ERROR'},
                                      'INFO' => $VAR1->{'logger'}{'ERROR'},
                                      'level' => undef,
                                      'num_appenders' => 0,
                                      'OFF' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ERROR' => sub { "DUMMY" }
                                    }, 'Log::Log4perl::Logger' ),
                 'imap' => {
                             'capability' => [
                                               '* CAPABILITY IMAP',
                                               '* CAPABILITY ID XLIST UIDPLUS UNSELECT MOVE',
                                               'OK CAPABILITY completed'
                                             ],
                             'login' => [
                                          '* CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE',
                                          'OK Authentication successful'
                                        ]
                           }
               }, 'fake_imap_server' );
2014/10/27 04:59:29 mode = 1
2014/10/27 04:59:29 client connected to pid 12001
2014/10/27 04:59:29 <<<: 1 LOGIN test@localhost "123123123"
2014/10/27 04:59:29 >>>: * CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE
2014/10/27 04:59:29 >>>: OK Authentication successful
2014/10/27 04:59:29 <<<: 2 CAPABILITY
2014/10/27 04:59:29 >>>: * CAPABILITY IMAP
2014/10/27 04:59:29 >>>: * CAPABILITY ID XLIST UIDPLUS UNSELECT MOVE
2014/10/27 04:59:29 >>>: OK CAPABILITY completed
2014/10/27 04:59:29 <<<: 3 XLIST "" *
2014/10/27 04:59:29 >>>: * XLIST () "/" "test"
2014/10/27 04:59:29 >>>: * XLIST (\hashnochildren \noselect) "/" "Inbox"
2014/10/27 04:59:29 >>>: OK LIST completed
2014/10/27 04:59:29 <<<: 4 STATUS "Inbox" (UIDNEXT MESSAGES UIDVALIDITY)
2014/10/27 04:59:29 123 $VAR1 = '4 STATUS "Inbox" (UIDNEXT MESSAGES UIDVALIDITY)';
2014/10/27 04:59:29 run_cmd_status: $VAR1 = '"Inbox"';
$VAR2 = 'UIDNEXT MESSAGES UIDVALIDITY';
2014/10/27 04:59:49 <<<: 5 STATUS "test" (UIDNEXT MESSAGES UIDVALIDITY)
2014/10/27 04:59:49 123 $VAR1 = '5 STATUS "test" (UIDNEXT MESSAGES UIDVALIDITY)';
2014/10/27 04:59:49 run_cmd_status: $VAR1 = '"test"';
$VAR2 = 'UIDNEXT MESSAGES UIDVALIDITY';
2014/10/27 04:59:49 <<<: 6 LOGOUT
2014/10/27 05:00:48 123 $VAR1 = [];
2014/10/27 05:00:48 123 $VAR1 = [
          'seen'
        ];
2014/10/27 05:00:48 After all parse: $VAR1 = bless( {
                 'client' => undef,
                 'connection_number' => 0,
                 'test' => [
                             {
                               'test' => {
                                           'uids' => [
                                                       '10',
                                                       '11',
                                                       '12'
                                                     ]
                                         },
                               'Inbox' => {
                                            'uidvalidity' => [
                                                               '13123'
                                                             ],
                                            'flags' => [
                                                         'hashnochildren',
                                                         'noselect'
                                                       ],
                                            'uids' => [
                                                        '001',
                                                        '002',
                                                        '003',
                                                        '005'
                                                      ]
                                          }
                             },
                             {
                               'test' => {
                                           'uids' => [
                                                       '10'
                                                     ]
                                         },
                               'inbox' => {
                                            'uids' => [
                                                        {
                                                          '002' => [
                                                                     'seen',
                                                                     'answered'
                                                                   ]
                                                        },
                                                        {
                                                          '005' => [
                                                                     'seen',
                                                                     'answered'
                                                                   ]
                                                        },
                                                        {
                                                          '003' => []
                                                        }
                                                      ]
                                          }
                             }
                           ],
                 'init_params' => {
                                    'test' => 'tests/test2',
                                    'mode' => 'config',
                                    'silentmode' => 'on',
                                    'port' => '8877',
                                    'log_file' => 'log.log',
                                    'message' => 'message.eml',
                                    'host' => 'localhost',
                                    'pid_file' => '/tmp/server.pid',
                                    'log_level' => '3',
                                    'config' => 'config.conf'
                                  },
                 'server' => undef,
                 'logger' => bless( {
                                      'is_OFF' => sub { "DUMMY" },
                                      'is_DEBUG' => sub { "DUMMY" },
                                      'ERROR' => sub { "DUMMY" },
                                      'is_INFO' => sub { "DUMMY" },
                                      'layout' => undef,
                                      'category' => 'fake_imap_server',
                                      'is_TRACE' => sub { "DUMMY" },
                                      'DEBUG' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ALL' => sub { "DUMMY" },
                                      'additivity' => 1,
                                      'TRACE' => sub { "DUMMY" },
                                      'ALL' => $VAR1->{'logger'}{'TRACE'},
                                      'is_FATAL' => sub { "DUMMY" },
                                      'is_WARN' => sub { "DUMMY" },
                                      'FATAL' => $VAR1->{'logger'}{'ERROR'},
                                      'appender_names' => [],
                                      'WARN' => $VAR1->{'logger'}{'ERROR'},
                                      'INFO' => $VAR1->{'logger'}{'ERROR'},
                                      'level' => undef,
                                      'num_appenders' => 0,
                                      'OFF' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ERROR' => sub { "DUMMY" }
                                    }, 'Log::Log4perl::Logger' ),
                 'imap' => {
                             'capability' => [
                                               '* CAPABILITY IMAP',
                                               '* CAPABILITY ID XLIST UIDPLUS UNSELECT MOVE',
                                               'OK CAPABILITY completed'
                                             ],
                             'login' => [
                                          '* CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE',
                                          'OK Authentication successful'
                                        ]
                           }
               }, 'fake_imap_server' );
2014/10/27 05:00:51 mode = 1
2014/10/27 05:00:51 client connected to pid 12252
2014/10/27 05:00:51 <<<: 1 LOGIN test@localhost "123123123"
2014/10/27 05:00:51 >>>: * CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE
2014/10/27 05:00:51 >>>: OK Authentication successful
2014/10/27 05:00:51 <<<: 2 CAPABILITY
2014/10/27 05:00:51 >>>: * CAPABILITY IMAP
2014/10/27 05:00:51 >>>: * CAPABILITY ID XLIST UIDPLUS UNSELECT MOVE
2014/10/27 05:00:51 >>>: OK CAPABILITY completed
2014/10/27 05:00:51 <<<: 3 XLIST "" *
2014/10/27 05:00:51 >>>: * XLIST () "/" "test"
2014/10/27 05:00:51 >>>: * XLIST (\hashnochildren \noselect) "/" "Inbox"
2014/10/27 05:00:51 >>>: OK LIST completed
2014/10/27 05:00:51 <<<: 4 STATUS "Inbox" (UIDNEXT MESSAGES UIDVALIDITY)
2014/10/27 05:00:51 123 $VAR1 = '4 STATUS "Inbox" (UIDNEXT MESSAGES UIDVALIDITY)';
2014/10/27 05:00:51 run_cmd_status: $VAR1 = '"Inbox"';
$VAR2 = 'UIDNEXT MESSAGES UIDVALIDITY';
2014/10/27 05:01:11 <<<: 5 STATUS "test" (UIDNEXT MESSAGES UIDVALIDITY)
2014/10/27 05:01:11 123 $VAR1 = '5 STATUS "test" (UIDNEXT MESSAGES UIDVALIDITY)';
2014/10/27 05:01:11 run_cmd_status: $VAR1 = '"test"';
$VAR2 = 'UIDNEXT MESSAGES UIDVALIDITY';
2014/10/27 05:01:11 <<<: 6 LOGOUT
2014/10/27 05:16:50 123 $VAR1 = [];
2014/10/27 05:16:50 123 $VAR1 = [
          'seen'
        ];
2014/10/27 05:16:50 After all parse: $VAR1 = bless( {
                 'client' => undef,
                 'connection_number' => 0,
                 'test' => [
                             {
                               'test' => {
                                           'uids' => [
                                                       '10',
                                                       '11',
                                                       '12'
                                                     ]
                                         },
                               'Inbox' => {
                                            'uidvalidity' => [
                                                               '13123'
                                                             ],
                                            'flags' => [
                                                         'hashnochildren',
                                                         'noselect'
                                                       ],
                                            'uids' => [
                                                        '001',
                                                        '002',
                                                        '003',
                                                        '005'
                                                      ]
                                          }
                             },
                             {
                               'test' => {
                                           'uids' => [
                                                       '10'
                                                     ]
                                         },
                               'inbox' => {
                                            'uids' => [
                                                        {
                                                          '002' => [
                                                                     'seen',
                                                                     'answered'
                                                                   ]
                                                        },
                                                        {
                                                          '005' => [
                                                                     'seen',
                                                                     'answered'
                                                                   ]
                                                        },
                                                        {
                                                          '003' => []
                                                        }
                                                      ]
                                          }
                             }
                           ],
                 'init_params' => {
                                    'test' => 'tests/test2',
                                    'mode' => 'config',
                                    'silentmode' => 'on',
                                    'port' => '8877',
                                    'log_file' => 'log.log',
                                    'message' => 'message.eml',
                                    'host' => 'localhost',
                                    'pid_file' => '/tmp/server.pid',
                                    'log_level' => '3',
                                    'config' => 'config.conf'
                                  },
                 'server' => undef,
                 'logger' => bless( {
                                      'is_OFF' => sub { "DUMMY" },
                                      'is_DEBUG' => sub { "DUMMY" },
                                      'ERROR' => sub { "DUMMY" },
                                      'is_INFO' => sub { "DUMMY" },
                                      'layout' => undef,
                                      'category' => 'fake_imap_server',
                                      'is_TRACE' => sub { "DUMMY" },
                                      'DEBUG' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ALL' => sub { "DUMMY" },
                                      'additivity' => 1,
                                      'TRACE' => sub { "DUMMY" },
                                      'ALL' => $VAR1->{'logger'}{'TRACE'},
                                      'is_FATAL' => sub { "DUMMY" },
                                      'is_WARN' => sub { "DUMMY" },
                                      'FATAL' => $VAR1->{'logger'}{'ERROR'},
                                      'appender_names' => [],
                                      'WARN' => $VAR1->{'logger'}{'ERROR'},
                                      'INFO' => $VAR1->{'logger'}{'ERROR'},
                                      'level' => undef,
                                      'num_appenders' => 0,
                                      'OFF' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ERROR' => sub { "DUMMY" }
                                    }, 'Log::Log4perl::Logger' ),
                 'imap' => {
                             'capability' => [
                                               '* CAPABILITY IMAP',
                                               '* CAPABILITY ID XLIST UIDPLUS UNSELECT MOVE',
                                               'OK CAPABILITY completed'
                                             ],
                             'login' => [
                                          '* CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE',
                                          'OK Authentication successful'
                                        ]
                           }
               }, 'fake_imap_server' );
2014/10/27 05:16:54 mode = 1
2014/10/27 05:16:54 client connected to pid 15299
2014/10/27 05:16:54 <<<: 1 LOGIN test@localhost "123123123"
2014/10/27 05:16:54 >>>: * CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE
2014/10/27 05:16:54 >>>: OK Authentication successful
2014/10/27 05:16:54 <<<: 2 CAPABILITY
2014/10/27 05:16:54 >>>: * CAPABILITY IMAP
2014/10/27 05:16:54 >>>: * CAPABILITY ID XLIST UIDPLUS UNSELECT MOVE
2014/10/27 05:16:54 >>>: OK CAPABILITY completed
2014/10/27 05:16:54 <<<: 3 XLIST "" *
2014/10/27 05:16:54 >>>: * XLIST () "/" "test"
2014/10/27 05:16:54 >>>: * XLIST (\hashnochildren \noselect) "/" "Inbox"
2014/10/27 05:16:54 >>>: OK LIST completed
2014/10/27 05:16:54 <<<: 4 STATUS "Inbox" (UIDNEXT MESSAGES UIDVALIDITY)
2014/10/27 05:16:54 run_cmd_status: Inbox, UIDNEXT MESSAGES UIDVALIDITY
2014/10/27 05:17:14 <<<: 5 STATUS "test" (UIDNEXT MESSAGES UIDVALIDITY)
2014/10/27 05:17:14 run_cmd_status: test, UIDNEXT MESSAGES UIDVALIDITY
2014/10/27 05:17:14 <<<: 6 LOGOUT
2014/10/27 05:37:08 123 $VAR1 = [];
2014/10/27 05:37:08 123 $VAR1 = [
          'seen'
        ];
2014/10/27 05:37:08 After all parse: $VAR1 = bless( {
                 'client' => undef,
                 'connection_number' => 0,
                 'test' => [
                             {
                               'test' => {
                                           'uids' => [
                                                       '10',
                                                       '11',
                                                       '12'
                                                     ]
                                         },
                               'Inbox' => {
                                            'uidvalidity' => [
                                                               '13123'
                                                             ],
                                            'flags' => [
                                                         'hashnochildren',
                                                         'noselect'
                                                       ],
                                            'uids' => [
                                                        '001',
                                                        '002',
                                                        '003',
                                                        '005'
                                                      ]
                                          }
                             },
                             {
                               'test' => {
                                           'uids' => [
                                                       '10'
                                                     ]
                                         },
                               'inbox' => {
                                            'uids' => [
                                                        {
                                                          '002' => [
                                                                     'seen',
                                                                     'answered'
                                                                   ]
                                                        },
                                                        {
                                                          '005' => [
                                                                     'seen',
                                                                     'answered'
                                                                   ]
                                                        },
                                                        {
                                                          '003' => []
                                                        }
                                                      ]
                                          }
                             }
                           ],
                 'init_params' => {
                                    'test' => 'tests/test2',
                                    'mode' => 'config',
                                    'silentmode' => 'on',
                                    'port' => '8877',
                                    'log_file' => 'log.log',
                                    'message' => 'message.eml',
                                    'host' => 'localhost',
                                    'pid_file' => '/tmp/server.pid',
                                    'log_level' => '3',
                                    'config' => 'config.conf'
                                  },
                 'server' => undef,
                 'logger' => bless( {
                                      'is_OFF' => sub { "DUMMY" },
                                      'is_DEBUG' => sub { "DUMMY" },
                                      'ERROR' => sub { "DUMMY" },
                                      'is_INFO' => sub { "DUMMY" },
                                      'layout' => undef,
                                      'category' => 'fake_imap_server',
                                      'is_TRACE' => sub { "DUMMY" },
                                      'DEBUG' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ALL' => sub { "DUMMY" },
                                      'additivity' => 1,
                                      'TRACE' => sub { "DUMMY" },
                                      'ALL' => $VAR1->{'logger'}{'TRACE'},
                                      'is_FATAL' => sub { "DUMMY" },
                                      'is_WARN' => sub { "DUMMY" },
                                      'FATAL' => $VAR1->{'logger'}{'ERROR'},
                                      'appender_names' => [],
                                      'WARN' => $VAR1->{'logger'}{'ERROR'},
                                      'INFO' => $VAR1->{'logger'}{'ERROR'},
                                      'level' => undef,
                                      'num_appenders' => 0,
                                      'OFF' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ERROR' => sub { "DUMMY" }
                                    }, 'Log::Log4perl::Logger' ),
                 'imap' => {
                             'capability' => [
                                               '* CAPABILITY IMAP',
                                               '* CAPABILITY ID XLIST UIDPLUS UNSELECT MOVE',
                                               'OK CAPABILITY completed'
                                             ],
                             'login' => [
                                          '* CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE',
                                          'OK Authentication successful'
                                        ]
                           }
               }, 'fake_imap_server' );
2014/10/27 05:37:17 mode = 1
2014/10/27 05:37:17 client connected to pid 19156
2014/10/27 05:37:17 <<<: 1 LOGIN test@localhost "123123123"
2014/10/27 05:37:17 >>>: * CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE
2014/10/27 05:37:17 >>>: OK Authentication successful
2014/10/27 05:37:17 <<<: 2 CAPABILITY
2014/10/27 05:37:17 >>>: * CAPABILITY IMAP
2014/10/27 05:37:17 >>>: * CAPABILITY ID XLIST UIDPLUS UNSELECT MOVE
2014/10/27 05:37:17 >>>: OK CAPABILITY completed
2014/10/27 05:37:17 <<<: 3 XLIST "" *
2014/10/27 05:37:17 >>>: * XLIST () "/" "test"
2014/10/27 05:37:17 >>>: * XLIST (\hashnochildren \noselect) "/" "Inbox"
2014/10/27 05:37:17 >>>: OK LIST completed
2014/10/27 05:37:17 <<<: 4 STATUS "Inbox" (UIDNEXT MESSAGES UIDVALIDITY)
2014/10/27 05:37:17 run_cmd_status: Inbox, UIDNEXT MESSAGES UIDVALIDITY
2014/10/27 05:37:17 *** $VAR1 = '001';
$VAR2 = '002';
$VAR3 = '003';
$VAR4 = '005';
, 2) 
2014/10/27 05:37:17 $n = 4
2014/10/27 05:37:17 >>>: OK STATUS completed
2014/10/27 05:37:17 <<<: 5 STATUS "test" (UIDNEXT MESSAGES UIDVALIDITY)
2014/10/27 05:37:17 run_cmd_status: test, UIDNEXT MESSAGES UIDVALIDITY
2014/10/27 05:37:17 *** $VAR1 = '10';
$VAR2 = '11';
$VAR3 = '12';
, 2) 
2014/10/27 05:37:17 $n = 3
2014/10/27 05:37:17 >>>: OK STATUS completed
2014/10/27 05:37:17 <<<: 6 LOGOUT
2014/10/27 05:44:14 123 $VAR1 = [];
2014/10/27 05:44:14 123 $VAR1 = [
          'seen'
        ];
2014/10/27 05:44:14 After all parse: $VAR1 = bless( {
                 'client' => undef,
                 'connection_number' => 0,
                 'test' => [
                             {
                               'test' => {
                                           'uids' => [
                                                       '10',
                                                       '11',
                                                       '12'
                                                     ]
                                         },
                               'Inbox' => {
                                            'uidvalidity' => [
                                                               '13123'
                                                             ],
                                            'flags' => [
                                                         'hashnochildren',
                                                         'noselect'
                                                       ],
                                            'uids' => [
                                                        '001',
                                                        '002',
                                                        '003',
                                                        '005'
                                                      ]
                                          }
                             },
                             {
                               'test' => {
                                           'uids' => [
                                                       '10'
                                                     ]
                                         },
                               'inbox' => {
                                            'uids' => [
                                                        {
                                                          '002' => [
                                                                     'seen',
                                                                     'answered'
                                                                   ]
                                                        },
                                                        {
                                                          '005' => [
                                                                     'seen',
                                                                     'answered'
                                                                   ]
                                                        },
                                                        {
                                                          '003' => []
                                                        }
                                                      ]
                                          }
                             }
                           ],
                 'init_params' => {
                                    'test' => 'tests/test2',
                                    'mode' => 'config',
                                    'silentmode' => 'on',
                                    'port' => '8877',
                                    'log_file' => 'log.log',
                                    'message' => 'message.eml',
                                    'host' => 'localhost',
                                    'pid_file' => '/tmp/server.pid',
                                    'log_level' => '3',
                                    'config' => 'config.conf'
                                  },
                 'server' => undef,
                 'logger' => bless( {
                                      'is_OFF' => sub { "DUMMY" },
                                      'is_DEBUG' => sub { "DUMMY" },
                                      'ERROR' => sub { "DUMMY" },
                                      'is_INFO' => sub { "DUMMY" },
                                      'layout' => undef,
                                      'category' => 'fake_imap_server',
                                      'is_TRACE' => sub { "DUMMY" },
                                      'DEBUG' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ALL' => sub { "DUMMY" },
                                      'additivity' => 1,
                                      'TRACE' => sub { "DUMMY" },
                                      'ALL' => $VAR1->{'logger'}{'TRACE'},
                                      'is_FATAL' => sub { "DUMMY" },
                                      'is_WARN' => sub { "DUMMY" },
                                      'FATAL' => $VAR1->{'logger'}{'ERROR'},
                                      'appender_names' => [],
                                      'WARN' => $VAR1->{'logger'}{'ERROR'},
                                      'INFO' => $VAR1->{'logger'}{'ERROR'},
                                      'level' => undef,
                                      'num_appenders' => 0,
                                      'OFF' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ERROR' => sub { "DUMMY" }
                                    }, 'Log::Log4perl::Logger' ),
                 'imap' => {
                             'capability' => [
                                               '* CAPABILITY IMAP',
                                               '* CAPABILITY ID XLIST UIDPLUS UNSELECT MOVE',
                                               'OK CAPABILITY completed'
                                             ],
                             'login' => [
                                          '* CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE',
                                          'OK Authentication successful'
                                        ]
                           }
               }, 'fake_imap_server' );
2014/10/27 05:44:17 mode = 1
2014/10/27 05:44:17 client connected to pid 20528
2014/10/27 05:44:17 <<<: 1 LOGIN test@localhost "123123123"
2014/10/27 05:44:17 >>>: * CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE
2014/10/27 05:44:17 >>>: OK Authentication successful
2014/10/27 05:44:17 <<<: 2 CAPABILITY
2014/10/27 05:44:17 >>>: * CAPABILITY IMAP
2014/10/27 05:44:17 >>>: * CAPABILITY ID XLIST UIDPLUS UNSELECT MOVE
2014/10/27 05:44:17 >>>: OK CAPABILITY completed
2014/10/27 05:44:17 <<<: 3 XLIST "" *
2014/10/27 05:44:17 >>>: * XLIST () "/" "test"
2014/10/27 05:44:17 >>>: * XLIST (\hashnochildren \noselect) "/" "Inbox"
2014/10/27 05:44:17 >>>: OK LIST completed
2014/10/27 05:44:17 <<<: 4 STATUS "Inbox" (UIDNEXT MESSAGES UIDVALIDITY)
2014/10/27 05:44:17 run_cmd_status: Inbox, UIDNEXT MESSAGES UIDVALIDITY
2014/10/27 05:44:17 >>>: OK STATUS completed
2014/10/27 05:44:17 <<<: 5 STATUS "test" (UIDNEXT MESSAGES UIDVALIDITY)
2014/10/27 05:44:17 run_cmd_status: test, UIDNEXT MESSAGES UIDVALIDITY
2014/10/27 05:44:17 >>>: OK STATUS completed
2014/10/27 05:44:17 <<<: 6 LOGOUT
2014/10/27 05:45:49 123 $VAR1 = [];
2014/10/27 05:45:49 123 $VAR1 = [
          'seen'
        ];
2014/10/27 05:45:49 After all parse: $VAR1 = bless( {
                 'client' => undef,
                 'connection_number' => 0,
                 'test' => [
                             {
                               'test' => {
                                           'uids' => [
                                                       '10',
                                                       '11',
                                                       '12'
                                                     ]
                                         },
                               'Inbox' => {
                                            'uidvalidity' => [
                                                               '13123'
                                                             ],
                                            'flags' => [
                                                         'hashnochildren',
                                                         'noselect'
                                                       ],
                                            'uids' => [
                                                        '001',
                                                        '002',
                                                        '003',
                                                        '005'
                                                      ]
                                          }
                             },
                             {
                               'test' => {
                                           'uids' => [
                                                       '10'
                                                     ]
                                         },
                               'inbox' => {
                                            'uids' => [
                                                        {
                                                          '002' => [
                                                                     'seen',
                                                                     'answered'
                                                                   ]
                                                        },
                                                        {
                                                          '005' => [
                                                                     'seen',
                                                                     'answered'
                                                                   ]
                                                        },
                                                        {
                                                          '003' => []
                                                        }
                                                      ]
                                          }
                             }
                           ],
                 'init_params' => {
                                    'test' => 'tests/test2',
                                    'mode' => 'config',
                                    'silentmode' => 'on',
                                    'port' => '8877',
                                    'log_file' => 'log.log',
                                    'message' => 'message.eml',
                                    'host' => 'localhost',
                                    'pid_file' => '/tmp/server.pid',
                                    'log_level' => '3',
                                    'config' => 'config.conf'
                                  },
                 'server' => undef,
                 'logger' => bless( {
                                      'is_OFF' => sub { "DUMMY" },
                                      'is_DEBUG' => sub { "DUMMY" },
                                      'ERROR' => sub { "DUMMY" },
                                      'is_INFO' => sub { "DUMMY" },
                                      'layout' => undef,
                                      'category' => 'fake_imap_server',
                                      'is_TRACE' => sub { "DUMMY" },
                                      'DEBUG' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ALL' => sub { "DUMMY" },
                                      'additivity' => 1,
                                      'TRACE' => sub { "DUMMY" },
                                      'ALL' => $VAR1->{'logger'}{'TRACE'},
                                      'is_FATAL' => sub { "DUMMY" },
                                      'is_WARN' => sub { "DUMMY" },
                                      'FATAL' => $VAR1->{'logger'}{'ERROR'},
                                      'appender_names' => [],
                                      'WARN' => $VAR1->{'logger'}{'ERROR'},
                                      'INFO' => $VAR1->{'logger'}{'ERROR'},
                                      'level' => undef,
                                      'num_appenders' => 0,
                                      'OFF' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ERROR' => sub { "DUMMY" }
                                    }, 'Log::Log4perl::Logger' ),
                 'imap' => {
                             'capability' => [
                                               '* CAPABILITY IMAP',
                                               '* CAPABILITY ID XLIST UIDPLUS UNSELECT MOVE',
                                               'OK CAPABILITY completed'
                                             ],
                             'login' => [
                                          '* CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE',
                                          'OK Authentication successful'
                                        ]
                           }
               }, 'fake_imap_server' );
2014/10/27 05:45:51 mode = 1
2014/10/27 05:45:51 client connected to pid 20818
2014/10/27 05:45:51 <<<: 1 LOGIN test@localhost "123123123"
2014/10/27 05:45:51 >>>: * CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE
2014/10/27 05:45:51 >>>: OK Authentication successful
2014/10/27 05:45:51 <<<: 2 CAPABILITY
2014/10/27 05:45:51 >>>: * CAPABILITY IMAP
2014/10/27 05:45:51 >>>: * CAPABILITY ID XLIST UIDPLUS UNSELECT MOVE
2014/10/27 05:45:51 >>>: OK CAPABILITY completed
2014/10/27 05:45:51 <<<: 3 XLIST "" *
2014/10/27 05:45:51 >>>: * XLIST () "/" "test"
2014/10/27 05:45:51 >>>: * XLIST (\hashnochildren \noselect) "/" "Inbox"
2014/10/27 05:45:51 >>>: OK LIST completed
2014/10/27 05:45:51 <<<: 4 STATUS "Inbox" (UIDNEXT MESSAGES UIDVALIDITY)
2014/10/27 05:45:51 run_cmd_status: Inbox, UIDNEXT MESSAGES UIDVALIDITY
2014/10/27 05:45:51 uid is $VAR1 = '001';
2014/10/27 05:45:51 uid is $VAR1 = '002';
2014/10/27 05:45:51 uid is $VAR1 = '003';
2014/10/27 05:45:51 uid is $VAR1 = '005';
2014/10/27 05:45:51 >>>: OK STATUS completed
2014/10/27 05:45:51 <<<: 5 STATUS "test" (UIDNEXT MESSAGES UIDVALIDITY)
2014/10/27 05:45:51 run_cmd_status: test, UIDNEXT MESSAGES UIDVALIDITY
2014/10/27 05:45:51 uid is $VAR1 = '10';
2014/10/27 05:45:51 uid is $VAR1 = '11';
2014/10/27 05:45:51 uid is $VAR1 = '12';
2014/10/27 05:45:51 >>>: OK STATUS completed
2014/10/27 05:45:51 <<<: 6 LOGOUT
2014/10/27 05:51:06 123 $VAR1 = [];
2014/10/27 05:51:06 123 $VAR1 = [
          'seen'
        ];
2014/10/27 05:51:06 After all parse: $VAR1 = bless( {
                 'client' => undef,
                 'connection_number' => 0,
                 'test' => [
                             {
                               'test' => {
                                           'uids' => [
                                                       {
                                                         '10' => [
                                                                   'recent'
                                                                 ]
                                                       },
                                                       {
                                                         '11' => [
                                                                   'recent'
                                                                 ]
                                                       },
                                                       {
                                                         '12' => []
                                                       }
                                                     ]
                                         },
                               'Inbox' => {
                                            'uidvalidity' => [
                                                               '13123'
                                                             ],
                                            'flags' => [
                                                         'hashnochildren',
                                                         'noselect'
                                                       ],
                                            'uids' => [
                                                        {
                                                          '001' => [
                                                                     'recent'
                                                                   ]
                                                        },
                                                        {
                                                          '003' => [
                                                                     'recent'
                                                                   ]
                                                        },
                                                        {
                                                          '005' => [
                                                                     'recent'
                                                                   ]
                                                        }
                                                      ]
                                          }
                             },
                             {
                               'test' => {
                                           'uids' => [
                                                       '10'
                                                     ]
                                         },
                               'inbox' => {
                                            'uids' => [
                                                        {
                                                          '002' => [
                                                                     'seen',
                                                                     'answered'
                                                                   ]
                                                        },
                                                        {
                                                          '005' => [
                                                                     'seen',
                                                                     'answered'
                                                                   ]
                                                        },
                                                        {
                                                          '003' => []
                                                        }
                                                      ]
                                          }
                             }
                           ],
                 'init_params' => {
                                    'test' => 'tests/test2',
                                    'mode' => 'config',
                                    'silentmode' => 'on',
                                    'port' => '8877',
                                    'log_file' => 'log.log',
                                    'message' => 'message.eml',
                                    'host' => 'localhost',
                                    'pid_file' => '/tmp/server.pid',
                                    'log_level' => '3',
                                    'config' => 'config.conf'
                                  },
                 'server' => undef,
                 'logger' => bless( {
                                      'is_OFF' => sub { "DUMMY" },
                                      'is_DEBUG' => sub { "DUMMY" },
                                      'ERROR' => sub { "DUMMY" },
                                      'is_INFO' => sub { "DUMMY" },
                                      'layout' => undef,
                                      'category' => 'fake_imap_server',
                                      'is_TRACE' => sub { "DUMMY" },
                                      'DEBUG' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ALL' => sub { "DUMMY" },
                                      'additivity' => 1,
                                      'TRACE' => sub { "DUMMY" },
                                      'ALL' => $VAR1->{'logger'}{'TRACE'},
                                      'is_FATAL' => sub { "DUMMY" },
                                      'is_WARN' => sub { "DUMMY" },
                                      'FATAL' => $VAR1->{'logger'}{'ERROR'},
                                      'appender_names' => [],
                                      'WARN' => $VAR1->{'logger'}{'ERROR'},
                                      'INFO' => $VAR1->{'logger'}{'ERROR'},
                                      'level' => undef,
                                      'num_appenders' => 0,
                                      'OFF' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ERROR' => sub { "DUMMY" }
                                    }, 'Log::Log4perl::Logger' ),
                 'imap' => {
                             'capability' => [
                                               '* CAPABILITY IMAP',
                                               '* CAPABILITY ID XLIST UIDPLUS UNSELECT MOVE',
                                               'OK CAPABILITY completed'
                                             ],
                             'login' => [
                                          '* CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE',
                                          'OK Authentication successful'
                                        ]
                           }
               }, 'fake_imap_server' );
2014/10/27 05:51:10 mode = 1
2014/10/27 05:51:10 client connected to pid 21823
2014/10/27 05:51:10 <<<: 1 LOGIN test@localhost "123123123"
2014/10/27 05:51:10 >>>: * CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE
2014/10/27 05:51:10 >>>: OK Authentication successful
2014/10/27 05:51:10 <<<: 2 CAPABILITY
2014/10/27 05:51:10 >>>: * CAPABILITY IMAP
2014/10/27 05:51:10 >>>: * CAPABILITY ID XLIST UIDPLUS UNSELECT MOVE
2014/10/27 05:51:10 >>>: OK CAPABILITY completed
2014/10/27 05:51:10 <<<: 3 XLIST "" *
2014/10/27 05:51:10 >>>: * XLIST () "/" "test"
2014/10/27 05:51:10 >>>: * XLIST (\hashnochildren \noselect) "/" "Inbox"
2014/10/27 05:51:10 >>>: OK LIST completed
2014/10/27 05:51:10 <<<: 4 STATUS "Inbox" (UIDNEXT MESSAGES UIDVALIDITY)
2014/10/27 05:51:10 run_cmd_status: Inbox, UIDNEXT MESSAGES UIDVALIDITY
2014/10/27 05:51:10 uid is $VAR1 = '001';
$VAR2 = [
          'recent'
        ];
2014/10/27 05:51:10 uid is $VAR1 = '003';
$VAR2 = [
          'recent'
        ];
2014/10/27 05:51:10 uid is $VAR1 = '005';
$VAR2 = [
          'recent'
        ];
2014/10/27 05:51:10 >>>: OK STATUS completed
2014/10/27 05:51:10 <<<: 5 STATUS "test" (UIDNEXT MESSAGES UIDVALIDITY)
2014/10/27 05:51:10 run_cmd_status: test, UIDNEXT MESSAGES UIDVALIDITY
2014/10/27 05:51:10 uid is $VAR1 = '10';
$VAR2 = [
          'recent'
        ];
2014/10/27 05:51:10 uid is $VAR1 = '11';
$VAR2 = [
          'recent'
        ];
2014/10/27 05:51:10 uid is $VAR1 = '12';
$VAR2 = [];
2014/10/27 05:51:10 >>>: OK STATUS completed
2014/10/27 05:51:10 <<<: 6 LOGOUT
