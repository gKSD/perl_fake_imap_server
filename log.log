2014/10/23 08:43:24 After all parse: $VAR1 = bless( {
                 'client' => undef,
                 'test' => [
                             [
                               {
                                 'inbox' => [
                                              '001',
                                              '002',
                                              '003',
                                              '005'
                                            ]
                               },
                               {
                                 'test' => [
                                             '10',
                                             '11',
                                             '12'
                                           ]
                               }
                             ],
                             [
                               {
                                 'inbox' => [
                                              '002',
                                              '005'
                                            ]
                               },
                               {
                                 'test' => [
                                             '10'
                                           ]
                               }
                             ]
                           ],
                 'init_params' => {
                                    'test' => 'tests/test2',
                                    'mode' => 'config',
                                    'silentmode' => 'on',
                                    'port' => '8877',
                                    'log_file' => 'log.log',
                                    'message' => 'message.eml',
                                    'host' => 'localhost',
                                    'pid_file' => '/tmp/server.pid',
                                    'log_level' => '3',
                                    'config' => 'config.conf'
                                  },
                 'server' => undef,
                 'logger' => bless( {
                                      'is_OFF' => sub { "DUMMY" },
                                      'is_DEBUG' => sub { "DUMMY" },
                                      'ERROR' => sub { "DUMMY" },
                                      'is_INFO' => sub { "DUMMY" },
                                      'layout' => undef,
                                      'category' => 'fake_imap_server',
                                      'is_TRACE' => sub { "DUMMY" },
                                      'DEBUG' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ALL' => sub { "DUMMY" },
                                      'additivity' => 1,
                                      'TRACE' => sub { "DUMMY" },
                                      'ALL' => $VAR1->{'logger'}{'TRACE'},
                                      'is_FATAL' => sub { "DUMMY" },
                                      'is_WARN' => sub { "DUMMY" },
                                      'FATAL' => $VAR1->{'logger'}{'ERROR'},
                                      'appender_names' => [],
                                      'WARN' => $VAR1->{'logger'}{'ERROR'},
                                      'INFO' => $VAR1->{'logger'}{'ERROR'},
                                      'level' => undef,
                                      'num_appenders' => 0,
                                      'OFF' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ERROR' => sub { "DUMMY" }
                                    }, 'Log::Log4perl::Logger' ),
                 'imap' => {
                             'capability' => [
                                               '* CAPABILITY IMAP',
                                               '* CAPABILITY ID XLIST UIDPLUS UNSELECT MOVE',
                                               '2 OK CAPABILITY completed'
                                             ],
                             'login' => [
                                          '* CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE',
                                          '1 OK Authentication successful'
                                        ]
                           }
               }, 'fake_imap_server' );
2014/10/23 08:45:26 After all parse: $VAR1 = bless( {
                 'client' => undef,
                 'test' => [
                             [
                               {
                                 'inbox' => [
                                              '001',
                                              '002',
                                              '003',
                                              '005'
                                            ]
                               },
                               {
                                 'test' => [
                                             '10',
                                             '11',
                                             '12'
                                           ]
                               }
                             ],
                             [
                               {
                                 'inbox' => [
                                              '002',
                                              '005'
                                            ]
                               },
                               {
                                 'test' => [
                                             '10'
                                           ]
                               }
                             ]
                           ],
                 'init_params' => {
                                    'test' => 'tests/test2',
                                    'mode' => 'config',
                                    'silentmode' => 'on',
                                    'port' => '8877',
                                    'log_file' => 'log.log',
                                    'message' => 'message.eml',
                                    'host' => 'localhost',
                                    'pid_file' => '/tmp/server.pid',
                                    'log_level' => '3',
                                    'config' => 'config.conf'
                                  },
                 'server' => undef,
                 'logger' => bless( {
                                      'is_OFF' => sub { "DUMMY" },
                                      'is_DEBUG' => sub { "DUMMY" },
                                      'ERROR' => sub { "DUMMY" },
                                      'is_INFO' => sub { "DUMMY" },
                                      'layout' => undef,
                                      'category' => 'fake_imap_server',
                                      'is_TRACE' => sub { "DUMMY" },
                                      'DEBUG' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ALL' => sub { "DUMMY" },
                                      'additivity' => 1,
                                      'TRACE' => sub { "DUMMY" },
                                      'ALL' => $VAR1->{'logger'}{'TRACE'},
                                      'is_FATAL' => sub { "DUMMY" },
                                      'is_WARN' => sub { "DUMMY" },
                                      'FATAL' => $VAR1->{'logger'}{'ERROR'},
                                      'appender_names' => [],
                                      'WARN' => $VAR1->{'logger'}{'ERROR'},
                                      'INFO' => $VAR1->{'logger'}{'ERROR'},
                                      'level' => undef,
                                      'num_appenders' => 0,
                                      'OFF' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ERROR' => sub { "DUMMY" }
                                    }, 'Log::Log4perl::Logger' ),
                 'imap' => {
                             'capability' => [
                                               '* CAPABILITY IMAP',
                                               '* CAPABILITY ID XLIST UIDPLUS UNSELECT MOVE',
                                               '2 OK CAPABILITY completed'
                                             ],
                             'login' => [
                                          '* CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE',
                                          '1 OK Authentication successful'
                                        ]
                           }
               }, 'fake_imap_server' );
2014/10/23 08:56:35 After all parse: $VAR1 = bless( {
                 'client' => undef,
                 'test' => [
                             [
                               {
                                 'inbox' => [
                                              '001',
                                              '002',
                                              '003',
                                              '005'
                                            ]
                               },
                               {
                                 'test' => [
                                             '10',
                                             '11',
                                             '12'
                                           ]
                               }
                             ],
                             [
                               {
                                 'inbox' => [
                                              '002',
                                              '005'
                                            ]
                               },
                               {
                                 'test' => [
                                             '10'
                                           ]
                               }
                             ]
                           ],
                 'init_params' => {
                                    'test' => 'tests/test2',
                                    'mode' => 'config',
                                    'silentmode' => 'on',
                                    'port' => '8877',
                                    'log_file' => 'log.log',
                                    'message' => 'message.eml',
                                    'host' => 'localhost',
                                    'pid_file' => '/tmp/server.pid',
                                    'log_level' => '3',
                                    'config' => 'config.conf'
                                  },
                 'server' => undef,
                 'logger' => bless( {
                                      'is_OFF' => sub { "DUMMY" },
                                      'is_DEBUG' => sub { "DUMMY" },
                                      'ERROR' => sub { "DUMMY" },
                                      'is_INFO' => sub { "DUMMY" },
                                      'layout' => undef,
                                      'category' => 'fake_imap_server',
                                      'is_TRACE' => sub { "DUMMY" },
                                      'DEBUG' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ALL' => sub { "DUMMY" },
                                      'additivity' => 1,
                                      'TRACE' => sub { "DUMMY" },
                                      'ALL' => $VAR1->{'logger'}{'TRACE'},
                                      'is_FATAL' => sub { "DUMMY" },
                                      'is_WARN' => sub { "DUMMY" },
                                      'FATAL' => $VAR1->{'logger'}{'ERROR'},
                                      'appender_names' => [],
                                      'WARN' => $VAR1->{'logger'}{'ERROR'},
                                      'INFO' => $VAR1->{'logger'}{'ERROR'},
                                      'level' => undef,
                                      'num_appenders' => 0,
                                      'OFF' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ERROR' => sub { "DUMMY" }
                                    }, 'Log::Log4perl::Logger' ),
                 'imap' => {
                             'capability' => [
                                               '* CAPABILITY IMAP',
                                               '* CAPABILITY ID XLIST UIDPLUS UNSELECT MOVE',
                                               '2 OK CAPABILITY completed'
                                             ],
                             'login' => [
                                          '* CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE',
                                          '1 OK Authentication successful'
                                        ]
                           }
               }, 'fake_imap_server' );
2014/10/23 08:57:35 Client: 1 LOGIN test@localhost "123456"
2014/10/23 08:57:35 client> 1 LOGIN test@localhost "123456"
2014/10/23 08:58:26 After all parse: $VAR1 = bless( {
                 'client' => undef,
                 'test' => [
                             [
                               {
                                 'inbox' => [
                                              '001',
                                              '002',
                                              '003',
                                              '005'
                                            ]
                               },
                               {
                                 'test' => [
                                             '10',
                                             '11',
                                             '12'
                                           ]
                               }
                             ],
                             [
                               {
                                 'inbox' => [
                                              '002',
                                              '005'
                                            ]
                               },
                               {
                                 'test' => [
                                             '10'
                                           ]
                               }
                             ]
                           ],
                 'init_params' => {
                                    'test' => 'tests/test2',
                                    'mode' => 'config',
                                    'silentmode' => 'on',
                                    'port' => '8877',
                                    'log_file' => 'log.log',
                                    'message' => 'message.eml',
                                    'host' => 'localhost',
                                    'pid_file' => '/tmp/server.pid',
                                    'log_level' => '3',
                                    'config' => 'config.conf'
                                  },
                 'server' => undef,
                 'logger' => bless( {
                                      'is_OFF' => sub { "DUMMY" },
                                      'is_DEBUG' => sub { "DUMMY" },
                                      'ERROR' => sub { "DUMMY" },
                                      'is_INFO' => sub { "DUMMY" },
                                      'layout' => undef,
                                      'category' => 'fake_imap_server',
                                      'is_TRACE' => sub { "DUMMY" },
                                      'DEBUG' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ALL' => sub { "DUMMY" },
                                      'additivity' => 1,
                                      'TRACE' => sub { "DUMMY" },
                                      'ALL' => $VAR1->{'logger'}{'TRACE'},
                                      'is_FATAL' => sub { "DUMMY" },
                                      'is_WARN' => sub { "DUMMY" },
                                      'FATAL' => $VAR1->{'logger'}{'ERROR'},
                                      'appender_names' => [],
                                      'WARN' => $VAR1->{'logger'}{'ERROR'},
                                      'INFO' => $VAR1->{'logger'}{'ERROR'},
                                      'level' => undef,
                                      'num_appenders' => 0,
                                      'OFF' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ERROR' => sub { "DUMMY" }
                                    }, 'Log::Log4perl::Logger' ),
                 'imap' => {
                             'capability' => [
                                               '* CAPABILITY IMAP',
                                               '* CAPABILITY ID XLIST UIDPLUS UNSELECT MOVE',
                                               '2 OK CAPABILITY completed'
                                             ],
                             'login' => [
                                          '* CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE',
                                          '1 OK Authentication successful'
                                        ]
                           }
               }, 'fake_imap_server' );
2014/10/23 08:59:26 Client: 1 LOGIN test@localhost "123456"
2014/10/23 08:59:26 client> 1 LOGIN test@localhost "123456"
2014/10/23 09:01:47 After all parse: $VAR1 = bless( {
                 'client' => undef,
                 'test' => [
                             [
                               {
                                 'inbox' => [
                                              '001',
                                              '002',
                                              '003',
                                              '005'
                                            ]
                               },
                               {
                                 'test' => [
                                             '10',
                                             '11',
                                             '12'
                                           ]
                               }
                             ],
                             [
                               {
                                 'inbox' => [
                                              '002',
                                              '005'
                                            ]
                               },
                               {
                                 'test' => [
                                             '10'
                                           ]
                               }
                             ]
                           ],
                 'init_params' => {
                                    'test' => 'tests/test2',
                                    'mode' => 'config',
                                    'silentmode' => 'on',
                                    'port' => '8877',
                                    'log_file' => 'log.log',
                                    'message' => 'message.eml',
                                    'host' => 'localhost',
                                    'pid_file' => '/tmp/server.pid',
                                    'log_level' => '3',
                                    'config' => 'config.conf'
                                  },
                 'server' => undef,
                 'logger' => bless( {
                                      'is_OFF' => sub { "DUMMY" },
                                      'is_DEBUG' => sub { "DUMMY" },
                                      'ERROR' => sub { "DUMMY" },
                                      'is_INFO' => sub { "DUMMY" },
                                      'layout' => undef,
                                      'category' => 'fake_imap_server',
                                      'is_TRACE' => sub { "DUMMY" },
                                      'DEBUG' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ALL' => sub { "DUMMY" },
                                      'additivity' => 1,
                                      'TRACE' => sub { "DUMMY" },
                                      'ALL' => $VAR1->{'logger'}{'TRACE'},
                                      'is_FATAL' => sub { "DUMMY" },
                                      'is_WARN' => sub { "DUMMY" },
                                      'FATAL' => $VAR1->{'logger'}{'ERROR'},
                                      'appender_names' => [],
                                      'WARN' => $VAR1->{'logger'}{'ERROR'},
                                      'INFO' => $VAR1->{'logger'}{'ERROR'},
                                      'level' => undef,
                                      'num_appenders' => 0,
                                      'OFF' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ERROR' => sub { "DUMMY" }
                                    }, 'Log::Log4perl::Logger' ),
                 'imap' => {
                             'capability' => [
                                               '* CAPABILITY IMAP',
                                               '* CAPABILITY ID XLIST UIDPLUS UNSELECT MOVE',
                                               '2 OK CAPABILITY completed'
                                             ],
                             'login' => [
                                          '* CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE',
                                          '1 OK Authentication successful'
                                        ]
                           }
               }, 'fake_imap_server' );
2014/10/23 09:02:47 Client: 1 LOGIN test@localhost "123456"
2014/10/23 09:02:47 next is sending OK auth line
2014/10/23 09:02:47 client> 1 LOGIN test@localhost "123456"
2014/10/23 09:11:07 After all parse: $VAR1 = bless( {
                 'client' => undef,
                 'test' => [
                             [
                               {
                                 'inbox' => [
                                              '001',
                                              '002',
                                              '003',
                                              '005'
                                            ]
                               },
                               {
                                 'test' => [
                                             '10',
                                             '11',
                                             '12'
                                           ]
                               }
                             ],
                             [
                               {
                                 'inbox' => [
                                              '002',
                                              '005'
                                            ]
                               },
                               {
                                 'test' => [
                                             '10'
                                           ]
                               }
                             ]
                           ],
                 'init_params' => {
                                    'test' => 'tests/test2',
                                    'mode' => 'config',
                                    'silentmode' => 'on',
                                    'port' => '8877',
                                    'log_file' => 'log.log',
                                    'message' => 'message.eml',
                                    'host' => 'localhost',
                                    'pid_file' => '/tmp/server.pid',
                                    'log_level' => '3',
                                    'config' => 'config.conf'
                                  },
                 'server' => undef,
                 'logger' => bless( {
                                      'is_OFF' => sub { "DUMMY" },
                                      'is_DEBUG' => sub { "DUMMY" },
                                      'ERROR' => sub { "DUMMY" },
                                      'is_INFO' => sub { "DUMMY" },
                                      'layout' => undef,
                                      'category' => 'fake_imap_server',
                                      'is_TRACE' => sub { "DUMMY" },
                                      'DEBUG' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ALL' => sub { "DUMMY" },
                                      'additivity' => 1,
                                      'TRACE' => sub { "DUMMY" },
                                      'ALL' => $VAR1->{'logger'}{'TRACE'},
                                      'is_FATAL' => sub { "DUMMY" },
                                      'is_WARN' => sub { "DUMMY" },
                                      'FATAL' => $VAR1->{'logger'}{'ERROR'},
                                      'appender_names' => [],
                                      'WARN' => $VAR1->{'logger'}{'ERROR'},
                                      'INFO' => $VAR1->{'logger'}{'ERROR'},
                                      'level' => undef,
                                      'num_appenders' => 0,
                                      'OFF' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ERROR' => sub { "DUMMY" }
                                    }, 'Log::Log4perl::Logger' ),
                 'imap' => {
                             'capability' => [
                                               '* CAPABILITY IMAP',
                                               '* CAPABILITY ID XLIST UIDPLUS UNSELECT MOVE',
                                               '2 OK CAPABILITY completed'
                                             ],
                             'login' => [
                                          '* CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE',
                                          '1 OK Authentication successful'
                                        ]
                           }
               }, 'fake_imap_server' );
2014/10/23 09:12:07 Client: 1 LOGIN test@localhost "123456"
2014/10/23 09:12:07 next is sending OK auth line
2014/10/23 09:12:07 client> 1 LOGIN test@localhost "123456"
2014/10/23 09:12:40 After all parse: $VAR1 = bless( {
                 'client' => undef,
                 'test' => [
                             [
                               {
                                 'inbox' => [
                                              '001',
                                              '002',
                                              '003',
                                              '005'
                                            ]
                               },
                               {
                                 'test' => [
                                             '10',
                                             '11',
                                             '12'
                                           ]
                               }
                             ],
                             [
                               {
                                 'inbox' => [
                                              '002',
                                              '005'
                                            ]
                               },
                               {
                                 'test' => [
                                             '10'
                                           ]
                               }
                             ]
                           ],
                 'init_params' => {
                                    'test' => 'tests/test2',
                                    'mode' => 'config',
                                    'silentmode' => 'on',
                                    'port' => '8877',
                                    'log_file' => 'log.log',
                                    'message' => 'message.eml',
                                    'host' => 'localhost',
                                    'pid_file' => '/tmp/server.pid',
                                    'log_level' => '3',
                                    'config' => 'config.conf'
                                  },
                 'server' => undef,
                 'logger' => bless( {
                                      'is_OFF' => sub { "DUMMY" },
                                      'is_DEBUG' => sub { "DUMMY" },
                                      'ERROR' => sub { "DUMMY" },
                                      'is_INFO' => sub { "DUMMY" },
                                      'layout' => undef,
                                      'category' => 'fake_imap_server',
                                      'is_TRACE' => sub { "DUMMY" },
                                      'DEBUG' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ALL' => sub { "DUMMY" },
                                      'additivity' => 1,
                                      'TRACE' => sub { "DUMMY" },
                                      'ALL' => $VAR1->{'logger'}{'TRACE'},
                                      'is_FATAL' => sub { "DUMMY" },
                                      'is_WARN' => sub { "DUMMY" },
                                      'FATAL' => $VAR1->{'logger'}{'ERROR'},
                                      'appender_names' => [],
                                      'WARN' => $VAR1->{'logger'}{'ERROR'},
                                      'INFO' => $VAR1->{'logger'}{'ERROR'},
                                      'level' => undef,
                                      'num_appenders' => 0,
                                      'OFF' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ERROR' => sub { "DUMMY" }
                                    }, 'Log::Log4perl::Logger' ),
                 'imap' => {
                             'capability' => [
                                               '* CAPABILITY IMAP',
                                               '* CAPABILITY ID XLIST UIDPLUS UNSELECT MOVE',
                                               '2 OK CAPABILITY completed'
                                             ],
                             'login' => [
                                          '* CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE',
                                          '1 OK Authentication successful'
                                        ]
                           }
               }, 'fake_imap_server' );
2014/10/23 09:13:40 Client: 1 LOGIN test@localhost "123456"
2014/10/23 09:13:40 next is sending OK auth line
2014/10/23 09:13:40 client> 1 LOGIN test@localhost "123456"
2014/10/23 09:13:42 After all parse: $VAR1 = bless( {
                 'client' => undef,
                 'test' => [
                             [
                               {
                                 'inbox' => [
                                              '001',
                                              '002',
                                              '003',
                                              '005'
                                            ]
                               },
                               {
                                 'test' => [
                                             '10',
                                             '11',
                                             '12'
                                           ]
                               }
                             ],
                             [
                               {
                                 'inbox' => [
                                              '002',
                                              '005'
                                            ]
                               },
                               {
                                 'test' => [
                                             '10'
                                           ]
                               }
                             ]
                           ],
                 'init_params' => {
                                    'test' => 'tests/test2',
                                    'mode' => 'config',
                                    'silentmode' => 'on',
                                    'port' => '8877',
                                    'log_file' => 'log.log',
                                    'message' => 'message.eml',
                                    'host' => 'localhost',
                                    'pid_file' => '/tmp/server.pid',
                                    'log_level' => '3',
                                    'config' => 'config.conf'
                                  },
                 'server' => undef,
                 'logger' => bless( {
                                      'is_OFF' => sub { "DUMMY" },
                                      'is_DEBUG' => sub { "DUMMY" },
                                      'ERROR' => sub { "DUMMY" },
                                      'is_INFO' => sub { "DUMMY" },
                                      'layout' => undef,
                                      'category' => 'fake_imap_server',
                                      'is_TRACE' => sub { "DUMMY" },
                                      'DEBUG' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ALL' => sub { "DUMMY" },
                                      'additivity' => 1,
                                      'TRACE' => sub { "DUMMY" },
                                      'ALL' => $VAR1->{'logger'}{'TRACE'},
                                      'is_FATAL' => sub { "DUMMY" },
                                      'is_WARN' => sub { "DUMMY" },
                                      'FATAL' => $VAR1->{'logger'}{'ERROR'},
                                      'appender_names' => [],
                                      'WARN' => $VAR1->{'logger'}{'ERROR'},
                                      'INFO' => $VAR1->{'logger'}{'ERROR'},
                                      'level' => undef,
                                      'num_appenders' => 0,
                                      'OFF' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ERROR' => sub { "DUMMY" }
                                    }, 'Log::Log4perl::Logger' ),
                 'imap' => {
                             'capability' => [
                                               '* CAPABILITY IMAP',
                                               '* CAPABILITY ID XLIST UIDPLUS UNSELECT MOVE',
                                               '2 OK CAPABILITY completed'
                                             ],
                             'login' => [
                                          '* CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE',
                                          '1 OK Authentication successful'
                                        ]
                           }
               }, 'fake_imap_server' );
2014/10/23 09:14:42 Client: 1 LOGIN test@localhost "123456"
2014/10/23 09:14:42 next is sending OK auth line
2014/10/23 09:14:42 client> 1 LOGIN test@localhost "123456"
2014/10/23 09:15:21 After all parse: $VAR1 = bless( {
                 'client' => undef,
                 'test' => [
                             [
                               {
                                 'inbox' => [
                                              '001',
                                              '002',
                                              '003',
                                              '005'
                                            ]
                               },
                               {
                                 'test' => [
                                             '10',
                                             '11',
                                             '12'
                                           ]
                               }
                             ],
                             [
                               {
                                 'inbox' => [
                                              '002',
                                              '005'
                                            ]
                               },
                               {
                                 'test' => [
                                             '10'
                                           ]
                               }
                             ]
                           ],
                 'init_params' => {
                                    'test' => 'tests/test2',
                                    'mode' => 'config',
                                    'silentmode' => 'on',
                                    'port' => '8877',
                                    'log_file' => 'log.log',
                                    'message' => 'message.eml',
                                    'host' => 'localhost',
                                    'pid_file' => '/tmp/server.pid',
                                    'log_level' => '3',
                                    'config' => 'config.conf'
                                  },
                 'server' => undef,
                 'logger' => bless( {
                                      'is_OFF' => sub { "DUMMY" },
                                      'is_DEBUG' => sub { "DUMMY" },
                                      'ERROR' => sub { "DUMMY" },
                                      'is_INFO' => sub { "DUMMY" },
                                      'layout' => undef,
                                      'category' => 'fake_imap_server',
                                      'is_TRACE' => sub { "DUMMY" },
                                      'DEBUG' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ALL' => sub { "DUMMY" },
                                      'additivity' => 1,
                                      'TRACE' => sub { "DUMMY" },
                                      'ALL' => $VAR1->{'logger'}{'TRACE'},
                                      'is_FATAL' => sub { "DUMMY" },
                                      'is_WARN' => sub { "DUMMY" },
                                      'FATAL' => $VAR1->{'logger'}{'ERROR'},
                                      'appender_names' => [],
                                      'WARN' => $VAR1->{'logger'}{'ERROR'},
                                      'INFO' => $VAR1->{'logger'}{'ERROR'},
                                      'level' => undef,
                                      'num_appenders' => 0,
                                      'OFF' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ERROR' => sub { "DUMMY" }
                                    }, 'Log::Log4perl::Logger' ),
                 'imap' => {
                             'capability' => [
                                               '* CAPABILITY IMAP',
                                               '* CAPABILITY ID XLIST UIDPLUS UNSELECT MOVE',
                                               '2 OK CAPABILITY completed'
                                             ],
                             'login' => [
                                          '* CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE',
                                          '1 OK Authentication successful'
                                        ]
                           }
               }, 'fake_imap_server' );
2014/10/23 09:16:13 After all parse: $VAR1 = bless( {
                 'client' => undef,
                 'test' => [
                             [
                               {
                                 'inbox' => [
                                              '001',
                                              '002',
                                              '003',
                                              '005'
                                            ]
                               },
                               {
                                 'test' => [
                                             '10',
                                             '11',
                                             '12'
                                           ]
                               }
                             ],
                             [
                               {
                                 'inbox' => [
                                              '002',
                                              '005'
                                            ]
                               },
                               {
                                 'test' => [
                                             '10'
                                           ]
                               }
                             ]
                           ],
                 'init_params' => {
                                    'test' => 'tests/test2',
                                    'mode' => 'config',
                                    'silentmode' => 'on',
                                    'port' => '8877',
                                    'log_file' => 'log.log',
                                    'message' => 'message.eml',
                                    'host' => 'localhost',
                                    'pid_file' => '/tmp/server.pid',
                                    'log_level' => '3',
                                    'config' => 'config.conf'
                                  },
                 'server' => undef,
                 'logger' => bless( {
                                      'is_OFF' => sub { "DUMMY" },
                                      'is_DEBUG' => sub { "DUMMY" },
                                      'ERROR' => sub { "DUMMY" },
                                      'is_INFO' => sub { "DUMMY" },
                                      'layout' => undef,
                                      'category' => 'fake_imap_server',
                                      'is_TRACE' => sub { "DUMMY" },
                                      'DEBUG' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ALL' => sub { "DUMMY" },
                                      'additivity' => 1,
                                      'TRACE' => sub { "DUMMY" },
                                      'ALL' => $VAR1->{'logger'}{'TRACE'},
                                      'is_FATAL' => sub { "DUMMY" },
                                      'is_WARN' => sub { "DUMMY" },
                                      'FATAL' => $VAR1->{'logger'}{'ERROR'},
                                      'appender_names' => [],
                                      'WARN' => $VAR1->{'logger'}{'ERROR'},
                                      'INFO' => $VAR1->{'logger'}{'ERROR'},
                                      'level' => undef,
                                      'num_appenders' => 0,
                                      'OFF' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ERROR' => sub { "DUMMY" }
                                    }, 'Log::Log4perl::Logger' ),
                 'imap' => {
                             'capability' => [
                                               '* CAPABILITY IMAP',
                                               '* CAPABILITY ID XLIST UIDPLUS UNSELECT MOVE',
                                               '2 OK CAPABILITY completed'
                                             ],
                             'login' => [
                                          '* CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE',
                                          '1 OK Authentication successful'
                                        ]
                           }
               }, 'fake_imap_server' );
2014/10/23 09:16:57 After all parse: $VAR1 = bless( {
                 'client' => undef,
                 'test' => [
                             [
                               {
                                 'inbox' => [
                                              '001',
                                              '002',
                                              '003',
                                              '005'
                                            ]
                               },
                               {
                                 'test' => [
                                             '10',
                                             '11',
                                             '12'
                                           ]
                               }
                             ],
                             [
                               {
                                 'inbox' => [
                                              '002',
                                              '005'
                                            ]
                               },
                               {
                                 'test' => [
                                             '10'
                                           ]
                               }
                             ]
                           ],
                 'init_params' => {
                                    'test' => 'tests/test2',
                                    'mode' => 'config',
                                    'silentmode' => 'on',
                                    'port' => '8877',
                                    'log_file' => 'log.log',
                                    'message' => 'message.eml',
                                    'host' => 'localhost',
                                    'pid_file' => '/tmp/server.pid',
                                    'log_level' => '3',
                                    'config' => 'config.conf'
                                  },
                 'server' => undef,
                 'logger' => bless( {
                                      'is_OFF' => sub { "DUMMY" },
                                      'is_DEBUG' => sub { "DUMMY" },
                                      'ERROR' => sub { "DUMMY" },
                                      'is_INFO' => sub { "DUMMY" },
                                      'layout' => undef,
                                      'category' => 'fake_imap_server',
                                      'is_TRACE' => sub { "DUMMY" },
                                      'DEBUG' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ALL' => sub { "DUMMY" },
                                      'additivity' => 1,
                                      'TRACE' => sub { "DUMMY" },
                                      'ALL' => $VAR1->{'logger'}{'TRACE'},
                                      'is_FATAL' => sub { "DUMMY" },
                                      'is_WARN' => sub { "DUMMY" },
                                      'FATAL' => $VAR1->{'logger'}{'ERROR'},
                                      'appender_names' => [],
                                      'WARN' => $VAR1->{'logger'}{'ERROR'},
                                      'INFO' => $VAR1->{'logger'}{'ERROR'},
                                      'level' => undef,
                                      'num_appenders' => 0,
                                      'OFF' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ERROR' => sub { "DUMMY" }
                                    }, 'Log::Log4perl::Logger' ),
                 'imap' => {
                             'capability' => [
                                               '* CAPABILITY IMAP',
                                               '* CAPABILITY ID XLIST UIDPLUS UNSELECT MOVE',
                                               '2 OK CAPABILITY completed'
                                             ],
                             'login' => [
                                          '* CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE',
                                          '1 OK Authentication successful'
                                        ]
                           }
               }, 'fake_imap_server' );
2014/10/23 09:17:18 Client: 1 login ksd001@mail.ru ksdksd123
2014/10/23 09:17:18 next is sending OK auth line
2014/10/23 09:18:53 After all parse: $VAR1 = bless( {
                 'client' => undef,
                 'test' => [
                             [
                               {
                                 'inbox' => [
                                              '001',
                                              '002',
                                              '003',
                                              '005'
                                            ]
                               },
                               {
                                 'test' => [
                                             '10',
                                             '11',
                                             '12'
                                           ]
                               }
                             ],
                             [
                               {
                                 'inbox' => [
                                              '002',
                                              '005'
                                            ]
                               },
                               {
                                 'test' => [
                                             '10'
                                           ]
                               }
                             ]
                           ],
                 'init_params' => {
                                    'test' => 'tests/test2',
                                    'mode' => 'config',
                                    'silentmode' => 'on',
                                    'port' => '8877',
                                    'log_file' => 'log.log',
                                    'message' => 'message.eml',
                                    'host' => 'localhost',
                                    'pid_file' => '/tmp/server.pid',
                                    'log_level' => '3',
                                    'config' => 'config.conf'
                                  },
                 'server' => undef,
                 'logger' => bless( {
                                      'is_OFF' => sub { "DUMMY" },
                                      'is_DEBUG' => sub { "DUMMY" },
                                      'ERROR' => sub { "DUMMY" },
                                      'is_INFO' => sub { "DUMMY" },
                                      'layout' => undef,
                                      'category' => 'fake_imap_server',
                                      'is_TRACE' => sub { "DUMMY" },
                                      'DEBUG' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ALL' => sub { "DUMMY" },
                                      'additivity' => 1,
                                      'TRACE' => sub { "DUMMY" },
                                      'ALL' => $VAR1->{'logger'}{'TRACE'},
                                      'is_FATAL' => sub { "DUMMY" },
                                      'is_WARN' => sub { "DUMMY" },
                                      'FATAL' => $VAR1->{'logger'}{'ERROR'},
                                      'appender_names' => [],
                                      'WARN' => $VAR1->{'logger'}{'ERROR'},
                                      'INFO' => $VAR1->{'logger'}{'ERROR'},
                                      'level' => undef,
                                      'num_appenders' => 0,
                                      'OFF' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ERROR' => sub { "DUMMY" }
                                    }, 'Log::Log4perl::Logger' ),
                 'imap' => {
                             'capability' => [
                                               '* CAPABILITY IMAP',
                                               '* CAPABILITY ID XLIST UIDPLUS UNSELECT MOVE',
                                               '2 OK CAPABILITY completed'
                                             ],
                             'login' => [
                                          '* CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE',
                                          '1 OK Authentication successful'
                                        ]
                           }
               }, 'fake_imap_server' );
2014/10/23 09:19:11 Client: 1 login ksd008@mail.ru 12356
2014/10/23 09:19:11 next is sending OK auth line
2014/10/23 10:50:18 After all parse: $VAR1 = bless( {
                 'client' => undef,
                 'test' => [
                             [
                               {
                                 'inbox' => [
                                              '001',
                                              '002',
                                              '003',
                                              '005'
                                            ]
                               },
                               {
                                 'test' => [
                                             '10',
                                             '11',
                                             '12'
                                           ]
                               }
                             ],
                             [
                               {
                                 'inbox' => [
                                              '002',
                                              '005'
                                            ]
                               },
                               {
                                 'test' => [
                                             '10'
                                           ]
                               }
                             ]
                           ],
                 'init_params' => {
                                    'test' => 'tests/test2',
                                    'mode' => 'config',
                                    'silentmode' => 'on',
                                    'port' => '8877',
                                    'log_file' => 'log.log',
                                    'message' => 'message.eml',
                                    'host' => 'localhost',
                                    'pid_file' => '/tmp/server.pid',
                                    'log_level' => '3',
                                    'config' => 'config.conf'
                                  },
                 'server' => undef,
                 'logger' => bless( {
                                      'is_OFF' => sub { "DUMMY" },
                                      'is_DEBUG' => sub { "DUMMY" },
                                      'ERROR' => sub { "DUMMY" },
                                      'is_INFO' => sub { "DUMMY" },
                                      'layout' => undef,
                                      'category' => 'fake_imap_server',
                                      'is_TRACE' => sub { "DUMMY" },
                                      'DEBUG' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ALL' => sub { "DUMMY" },
                                      'additivity' => 1,
                                      'TRACE' => sub { "DUMMY" },
                                      'ALL' => $VAR1->{'logger'}{'TRACE'},
                                      'is_FATAL' => sub { "DUMMY" },
                                      'is_WARN' => sub { "DUMMY" },
                                      'FATAL' => $VAR1->{'logger'}{'ERROR'},
                                      'appender_names' => [],
                                      'WARN' => $VAR1->{'logger'}{'ERROR'},
                                      'INFO' => $VAR1->{'logger'}{'ERROR'},
                                      'level' => undef,
                                      'num_appenders' => 0,
                                      'OFF' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ERROR' => sub { "DUMMY" }
                                    }, 'Log::Log4perl::Logger' ),
                 'imap' => {
                             'capability' => [
                                               '* CAPABILITY IMAP',
                                               '* CAPABILITY ID XLIST UIDPLUS UNSELECT MOVE',
                                               '2 OK CAPABILITY completed'
                                             ],
                             'login' => [
                                          '* CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE',
                                          '1 OK Authentication successful'
                                        ]
                           }
               }, 'fake_imap_server' );
2014/10/23 10:50:21 Client: 1 LOGIN test@localhost "123123123"
2014/10/23 10:50:21 next is sending OK auth line
2014/10/23 10:50:21 Client: 2 CAPABILITY
2014/10/24 10:13:45 After all parse: $VAR1 = bless( {
                 'client' => undef,
                 'test' => [
                             [
                               {
                                 'inbox' => [
                                              '001',
                                              '002',
                                              '003',
                                              '005'
                                            ]
                               },
                               {
                                 'test' => [
                                             '10',
                                             '11',
                                             '12'
                                           ]
                               }
                             ],
                             [
                               {
                                 'inbox' => [
                                              '002',
                                              '005'
                                            ]
                               },
                               {
                                 'test' => [
                                             '10'
                                           ]
                               }
                             ]
                           ],
                 'init_params' => {
                                    'test' => 'tests/test2',
                                    'mode' => 'config',
                                    'silentmode' => 'on',
                                    'port' => '8877',
                                    'log_file' => 'log.log',
                                    'message' => 'message.eml',
                                    'host' => 'localhost',
                                    'pid_file' => '/tmp/server.pid',
                                    'log_level' => '3',
                                    'config' => 'config.conf'
                                  },
                 'server' => undef,
                 'logger' => bless( {
                                      'is_OFF' => sub { "DUMMY" },
                                      'is_DEBUG' => sub { "DUMMY" },
                                      'ERROR' => sub { "DUMMY" },
                                      'is_INFO' => sub { "DUMMY" },
                                      'layout' => undef,
                                      'category' => 'fake_imap_server',
                                      'is_TRACE' => sub { "DUMMY" },
                                      'DEBUG' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ALL' => sub { "DUMMY" },
                                      'additivity' => 1,
                                      'TRACE' => sub { "DUMMY" },
                                      'ALL' => $VAR1->{'logger'}{'TRACE'},
                                      'is_FATAL' => sub { "DUMMY" },
                                      'is_WARN' => sub { "DUMMY" },
                                      'FATAL' => $VAR1->{'logger'}{'ERROR'},
                                      'appender_names' => [],
                                      'WARN' => $VAR1->{'logger'}{'ERROR'},
                                      'INFO' => $VAR1->{'logger'}{'ERROR'},
                                      'level' => undef,
                                      'num_appenders' => 0,
                                      'OFF' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ERROR' => sub { "DUMMY" }
                                    }, 'Log::Log4perl::Logger' ),
                 'imap' => {
                             'capability' => [
                                               '* CAPABILITY IMAP',
                                               '* CAPABILITY ID XLIST UIDPLUS UNSELECT MOVE',
                                               '2 OK CAPABILITY completed'
                                             ],
                             'login' => [
                                          '* CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE',
                                          '1 OK Authentication successful'
                                        ]
                           }
               }, 'fake_imap_server' );
2014/10/24 10:14:43 cmdnum = 1
2014/10/24 10:14:43 Client: 1 LOGIN test@localhost "123123123"
2014/10/24 10:14:43 next is sending OK auth line
2014/10/24 10:14:43 cmdnum = 2
2014/10/24 10:14:43 Client: 2 CAPABILITY
2014/10/24 10:15:03 cmdnum = 3
2014/10/24 10:15:03 Client: 3 LOGOUT
2014/10/24 10:23:02 After all parse: $VAR1 = bless( {
                 'client' => undef,
                 'test' => [
                             [
                               {
                                 'inbox' => [
                                              '001',
                                              '002',
                                              '003',
                                              '005'
                                            ]
                               },
                               {
                                 'test' => [
                                             '10',
                                             '11',
                                             '12'
                                           ]
                               }
                             ],
                             [
                               {
                                 'inbox' => [
                                              '002',
                                              '005'
                                            ]
                               },
                               {
                                 'test' => [
                                             '10'
                                           ]
                               }
                             ]
                           ],
                 'init_params' => {
                                    'test' => 'tests/test2',
                                    'mode' => 'config',
                                    'silentmode' => 'on',
                                    'port' => '8877',
                                    'log_file' => 'log.log',
                                    'message' => 'message.eml',
                                    'host' => 'localhost',
                                    'pid_file' => '/tmp/server.pid',
                                    'log_level' => '3',
                                    'config' => 'config.conf'
                                  },
                 'server' => undef,
                 'logger' => bless( {
                                      'is_OFF' => sub { "DUMMY" },
                                      'is_DEBUG' => sub { "DUMMY" },
                                      'ERROR' => sub { "DUMMY" },
                                      'is_INFO' => sub { "DUMMY" },
                                      'layout' => undef,
                                      'category' => 'fake_imap_server',
                                      'is_TRACE' => sub { "DUMMY" },
                                      'DEBUG' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ALL' => sub { "DUMMY" },
                                      'additivity' => 1,
                                      'TRACE' => sub { "DUMMY" },
                                      'ALL' => $VAR1->{'logger'}{'TRACE'},
                                      'is_FATAL' => sub { "DUMMY" },
                                      'is_WARN' => sub { "DUMMY" },
                                      'FATAL' => $VAR1->{'logger'}{'ERROR'},
                                      'appender_names' => [],
                                      'WARN' => $VAR1->{'logger'}{'ERROR'},
                                      'INFO' => $VAR1->{'logger'}{'ERROR'},
                                      'level' => undef,
                                      'num_appenders' => 0,
                                      'OFF' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ERROR' => sub { "DUMMY" }
                                    }, 'Log::Log4perl::Logger' ),
                 'imap' => {
                             'capability' => [
                                               '* CAPABILITY IMAP',
                                               '* CAPABILITY ID XLIST UIDPLUS UNSELECT MOVE',
                                               '2 OK CAPABILITY completed'
                                             ],
                             'login' => [
                                          '* CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE',
                                          '1 OK Authentication successful'
                                        ]
                           }
               }, 'fake_imap_server' );
2014/10/24 10:23:09 client connected to pid 25012
2014/10/24 10:23:09 Client: 1 LOGIN test@localhost "123123123"
2014/10/24 10:23:09 next is sending OK auth line
2014/10/24 10:23:09 Client: 2 CAPABILITY
2014/10/24 10:23:29 Client: 3 LOGOUT
2014/10/24 10:24:10 After all parse: $VAR1 = bless( {
                 'client' => undef,
                 'test' => [
                             [
                               {
                                 'inbox' => [
                                              '001',
                                              '002',
                                              '003',
                                              '005'
                                            ]
                               },
                               {
                                 'test' => [
                                             '10',
                                             '11',
                                             '12'
                                           ]
                               }
                             ],
                             [
                               {
                                 'inbox' => [
                                              '002',
                                              '005'
                                            ]
                               },
                               {
                                 'test' => [
                                             '10'
                                           ]
                               }
                             ]
                           ],
                 'init_params' => {
                                    'test' => 'tests/test2',
                                    'mode' => 'config',
                                    'silentmode' => 'on',
                                    'port' => '8877',
                                    'log_file' => 'log.log',
                                    'message' => 'message.eml',
                                    'host' => 'localhost',
                                    'pid_file' => '/tmp/server.pid',
                                    'log_level' => '3',
                                    'config' => 'config.conf'
                                  },
                 'server' => undef,
                 'logger' => bless( {
                                      'is_OFF' => sub { "DUMMY" },
                                      'is_DEBUG' => sub { "DUMMY" },
                                      'ERROR' => sub { "DUMMY" },
                                      'is_INFO' => sub { "DUMMY" },
                                      'layout' => undef,
                                      'category' => 'fake_imap_server',
                                      'is_TRACE' => sub { "DUMMY" },
                                      'DEBUG' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ALL' => sub { "DUMMY" },
                                      'additivity' => 1,
                                      'TRACE' => sub { "DUMMY" },
                                      'ALL' => $VAR1->{'logger'}{'TRACE'},
                                      'is_FATAL' => sub { "DUMMY" },
                                      'is_WARN' => sub { "DUMMY" },
                                      'FATAL' => $VAR1->{'logger'}{'ERROR'},
                                      'appender_names' => [],
                                      'WARN' => $VAR1->{'logger'}{'ERROR'},
                                      'INFO' => $VAR1->{'logger'}{'ERROR'},
                                      'level' => undef,
                                      'num_appenders' => 0,
                                      'OFF' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ERROR' => sub { "DUMMY" }
                                    }, 'Log::Log4perl::Logger' ),
                 'imap' => {
                             'capability' => [
                                               '* CAPABILITY IMAP',
                                               '* CAPABILITY ID XLIST UIDPLUS UNSELECT MOVE',
                                               '2 OK CAPABILITY completed'
                                             ],
                             'login' => [
                                          '* CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE',
                                          '1 OK Authentication successful'
                                        ]
                           }
               }, 'fake_imap_server' );
2014/10/24 10:24:13 client connected to pid 25211
2014/10/24 10:24:13 Client: 1 LOGIN test@localhost "123123123"
2014/10/24 10:24:13 next is sending OK auth line
2014/10/24 10:24:13 Client: 2 CAPABILITY
2014/10/24 10:24:33 Client: 3 LOGOUT
2014/10/24 10:25:15 After all parse: $VAR1 = bless( {
                 'client' => undef,
                 'test' => [
                             [
                               {
                                 'inbox' => [
                                              '001',
                                              '002',
                                              '003',
                                              '005'
                                            ]
                               },
                               {
                                 'test' => [
                                             '10',
                                             '11',
                                             '12'
                                           ]
                               }
                             ],
                             [
                               {
                                 'inbox' => [
                                              '002',
                                              '005'
                                            ]
                               },
                               {
                                 'test' => [
                                             '10'
                                           ]
                               }
                             ]
                           ],
                 'init_params' => {
                                    'test' => 'tests/test2',
                                    'mode' => 'config',
                                    'silentmode' => 'on',
                                    'port' => '8877',
                                    'log_file' => 'log.log',
                                    'message' => 'message.eml',
                                    'host' => 'localhost',
                                    'pid_file' => '/tmp/server.pid',
                                    'log_level' => '3',
                                    'config' => 'config.conf'
                                  },
                 'server' => undef,
                 'logger' => bless( {
                                      'is_OFF' => sub { "DUMMY" },
                                      'is_DEBUG' => sub { "DUMMY" },
                                      'ERROR' => sub { "DUMMY" },
                                      'is_INFO' => sub { "DUMMY" },
                                      'layout' => undef,
                                      'category' => 'fake_imap_server',
                                      'is_TRACE' => sub { "DUMMY" },
                                      'DEBUG' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ALL' => sub { "DUMMY" },
                                      'additivity' => 1,
                                      'TRACE' => sub { "DUMMY" },
                                      'ALL' => $VAR1->{'logger'}{'TRACE'},
                                      'is_FATAL' => sub { "DUMMY" },
                                      'is_WARN' => sub { "DUMMY" },
                                      'FATAL' => $VAR1->{'logger'}{'ERROR'},
                                      'appender_names' => [],
                                      'WARN' => $VAR1->{'logger'}{'ERROR'},
                                      'INFO' => $VAR1->{'logger'}{'ERROR'},
                                      'level' => undef,
                                      'num_appenders' => 0,
                                      'OFF' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ERROR' => sub { "DUMMY" }
                                    }, 'Log::Log4perl::Logger' ),
                 'imap' => {
                             'capability' => [
                                               '* CAPABILITY IMAP',
                                               '* CAPABILITY ID XLIST UIDPLUS UNSELECT MOVE',
                                               '2 OK CAPABILITY completed'
                                             ],
                             'login' => [
                                          '* CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE',
                                          '1 OK Authentication successful'
                                        ]
                           }
               }, 'fake_imap_server' );
2014/10/24 10:25:18 client connected to pid 25460
2014/10/24 10:25:18 Client: 1 LOGIN test@localhost "123123123"
2014/10/24 10:25:18 self->imap->login length: 1
2014/10/24 10:25:38 Client: 2 CAPABILITY
2014/10/24 10:25:58 Client: 3 LOGOUT
2014/10/24 10:31:16 After all parse: $VAR1 = bless( {
                 'client' => undef,
                 'test' => [
                             [
                               {
                                 'inbox' => [
                                              '001',
                                              '002',
                                              '003',
                                              '005'
                                            ]
                               },
                               {
                                 'test' => [
                                             '10',
                                             '11',
                                             '12'
                                           ]
                               }
                             ],
                             [
                               {
                                 'inbox' => [
                                              '002',
                                              '005'
                                            ]
                               },
                               {
                                 'test' => [
                                             '10'
                                           ]
                               }
                             ]
                           ],
                 'init_params' => {
                                    'test' => 'tests/test2',
                                    'mode' => 'config',
                                    'silentmode' => 'on',
                                    'port' => '8877',
                                    'log_file' => 'log.log',
                                    'message' => 'message.eml',
                                    'host' => 'localhost',
                                    'pid_file' => '/tmp/server.pid',
                                    'log_level' => '3',
                                    'config' => 'config.conf'
                                  },
                 'server' => undef,
                 'logger' => bless( {
                                      'is_OFF' => sub { "DUMMY" },
                                      'is_DEBUG' => sub { "DUMMY" },
                                      'ERROR' => sub { "DUMMY" },
                                      'is_INFO' => sub { "DUMMY" },
                                      'layout' => undef,
                                      'category' => 'fake_imap_server',
                                      'is_TRACE' => sub { "DUMMY" },
                                      'DEBUG' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ALL' => sub { "DUMMY" },
                                      'additivity' => 1,
                                      'TRACE' => sub { "DUMMY" },
                                      'ALL' => $VAR1->{'logger'}{'TRACE'},
                                      'is_FATAL' => sub { "DUMMY" },
                                      'is_WARN' => sub { "DUMMY" },
                                      'FATAL' => $VAR1->{'logger'}{'ERROR'},
                                      'appender_names' => [],
                                      'WARN' => $VAR1->{'logger'}{'ERROR'},
                                      'INFO' => $VAR1->{'logger'}{'ERROR'},
                                      'level' => undef,
                                      'num_appenders' => 0,
                                      'OFF' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ERROR' => sub { "DUMMY" }
                                    }, 'Log::Log4perl::Logger' ),
                 'imap' => {
                             'capability' => [
                                               '* CAPABILITY IMAP',
                                               '* CAPABILITY ID XLIST UIDPLUS UNSELECT MOVE',
                                               '2 OK CAPABILITY completed'
                                             ],
                             'login' => [
                                          '* CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE',
                                          '1 OK Authentication successful'
                                        ]
                           }
               }, 'fake_imap_server' );
2014/10/24 10:31:19 client connected to pid 26612
2014/10/24 10:31:19 Client: 1 LOGIN test@localhost "123123123"
2014/10/24 10:31:19 string IS: * CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE
2014/10/24 10:31:19 string IS: 1 OK Authentication successful
2014/10/24 10:31:19 self->imap->login length: 2
2014/10/24 10:31:39 Client: 2 CAPABILITY
2014/10/24 10:31:59 Client: 3 LOGOUT
2014/10/24 10:38:18 After all parse: $VAR1 = bless( {
                 'client' => undef,
                 'test' => [
                             [
                               {
                                 'inbox' => [
                                              '001',
                                              '002',
                                              '003',
                                              '005'
                                            ]
                               },
                               {
                                 'test' => [
                                             '10',
                                             '11',
                                             '12'
                                           ]
                               }
                             ],
                             [
                               {
                                 'inbox' => [
                                              '002',
                                              '005'
                                            ]
                               },
                               {
                                 'test' => [
                                             '10'
                                           ]
                               }
                             ]
                           ],
                 'init_params' => {
                                    'test' => 'tests/test2',
                                    'mode' => 'config',
                                    'silentmode' => 'on',
                                    'port' => '8877',
                                    'log_file' => 'log.log',
                                    'message' => 'message.eml',
                                    'host' => 'localhost',
                                    'pid_file' => '/tmp/server.pid',
                                    'log_level' => '3',
                                    'config' => 'config.conf'
                                  },
                 'server' => undef,
                 'logger' => bless( {
                                      'is_OFF' => sub { "DUMMY" },
                                      'is_DEBUG' => sub { "DUMMY" },
                                      'ERROR' => sub { "DUMMY" },
                                      'is_INFO' => sub { "DUMMY" },
                                      'layout' => undef,
                                      'category' => 'fake_imap_server',
                                      'is_TRACE' => sub { "DUMMY" },
                                      'DEBUG' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ALL' => sub { "DUMMY" },
                                      'additivity' => 1,
                                      'TRACE' => sub { "DUMMY" },
                                      'ALL' => $VAR1->{'logger'}{'TRACE'},
                                      'is_FATAL' => sub { "DUMMY" },
                                      'is_WARN' => sub { "DUMMY" },
                                      'FATAL' => $VAR1->{'logger'}{'ERROR'},
                                      'appender_names' => [],
                                      'WARN' => $VAR1->{'logger'}{'ERROR'},
                                      'INFO' => $VAR1->{'logger'}{'ERROR'},
                                      'level' => undef,
                                      'num_appenders' => 0,
                                      'OFF' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ERROR' => sub { "DUMMY" }
                                    }, 'Log::Log4perl::Logger' ),
                 'imap' => {
                             'capability' => [
                                               '* CAPABILITY IMAP',
                                               '* CAPABILITY ID XLIST UIDPLUS UNSELECT MOVE',
                                               '2 OK CAPABILITY completed'
                                             ],
                             'login' => [
                                          '* CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE',
                                          '1 OK Authentication successful'
                                        ]
                           }
               }, 'fake_imap_server' );
2014/10/24 10:38:21 client connected to pid 27955
2014/10/24 10:38:21 <<<: 1 LOGIN test@localhost "123123123"
2014/10/24 10:38:21 dumper: $VAR1 = '* CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE';
2014/10/24 10:38:21 dumper: $VAR1 = '* CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE';
2014/10/24 10:38:21 >>>: * CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE
2014/10/24 10:38:21 dumper: $VAR1 = '1 OK Authentication successful';
2014/10/24 10:38:21 dumper: $VAR1 = '1 OK Authentication successful';
2014/10/24 10:38:21 >>>: 1 OK Authentication successful
2014/10/24 10:38:41 <<<: 2 CAPABILITY
2014/10/24 10:39:01 <<<: 3 LOGOUT
2014/10/24 10:42:25 After all parse: $VAR1 = bless( {
                 'client' => undef,
                 'test' => [
                             [
                               {
                                 'inbox' => [
                                              '001',
                                              '002',
                                              '003',
                                              '005'
                                            ]
                               },
                               {
                                 'test' => [
                                             '10',
                                             '11',
                                             '12'
                                           ]
                               }
                             ],
                             [
                               {
                                 'inbox' => [
                                              '002',
                                              '005'
                                            ]
                               },
                               {
                                 'test' => [
                                             '10'
                                           ]
                               }
                             ]
                           ],
                 'init_params' => {
                                    'test' => 'tests/test2',
                                    'mode' => 'config',
                                    'silentmode' => 'on',
                                    'port' => '8877',
                                    'log_file' => 'log.log',
                                    'message' => 'message.eml',
                                    'host' => 'localhost',
                                    'pid_file' => '/tmp/server.pid',
                                    'log_level' => '3',
                                    'config' => 'config.conf'
                                  },
                 'server' => undef,
                 'logger' => bless( {
                                      'is_OFF' => sub { "DUMMY" },
                                      'is_DEBUG' => sub { "DUMMY" },
                                      'ERROR' => sub { "DUMMY" },
                                      'is_INFO' => sub { "DUMMY" },
                                      'layout' => undef,
                                      'category' => 'fake_imap_server',
                                      'is_TRACE' => sub { "DUMMY" },
                                      'DEBUG' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ALL' => sub { "DUMMY" },
                                      'additivity' => 1,
                                      'TRACE' => sub { "DUMMY" },
                                      'ALL' => $VAR1->{'logger'}{'TRACE'},
                                      'is_FATAL' => sub { "DUMMY" },
                                      'is_WARN' => sub { "DUMMY" },
                                      'FATAL' => $VAR1->{'logger'}{'ERROR'},
                                      'appender_names' => [],
                                      'WARN' => $VAR1->{'logger'}{'ERROR'},
                                      'INFO' => $VAR1->{'logger'}{'ERROR'},
                                      'level' => undef,
                                      'num_appenders' => 0,
                                      'OFF' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ERROR' => sub { "DUMMY" }
                                    }, 'Log::Log4perl::Logger' ),
                 'imap' => {
                             'capability' => [
                                               '* CAPABILITY IMAP',
                                               '* CAPABILITY ID XLIST UIDPLUS UNSELECT MOVE',
                                               'OK CAPABILITY completed'
                                             ],
                             'login' => [
                                          '* CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE',
                                          'OK Authentication successful'
                                        ]
                           }
               }, 'fake_imap_server' );
2014/10/24 10:43:13 After all parse: $VAR1 = bless( {
                 'client' => undef,
                 'test' => [
                             [
                               {
                                 'inbox' => [
                                              '001',
                                              '002',
                                              '003',
                                              '005'
                                            ]
                               },
                               {
                                 'test' => [
                                             '10',
                                             '11',
                                             '12'
                                           ]
                               }
                             ],
                             [
                               {
                                 'inbox' => [
                                              '002',
                                              '005'
                                            ]
                               },
                               {
                                 'test' => [
                                             '10'
                                           ]
                               }
                             ]
                           ],
                 'init_params' => {
                                    'test' => 'tests/test2',
                                    'mode' => 'config',
                                    'silentmode' => 'on',
                                    'port' => '8877',
                                    'log_file' => 'log.log',
                                    'message' => 'message.eml',
                                    'host' => 'localhost',
                                    'pid_file' => '/tmp/server.pid',
                                    'log_level' => '3',
                                    'config' => 'config.conf'
                                  },
                 'server' => undef,
                 'logger' => bless( {
                                      'is_OFF' => sub { "DUMMY" },
                                      'is_DEBUG' => sub { "DUMMY" },
                                      'ERROR' => sub { "DUMMY" },
                                      'is_INFO' => sub { "DUMMY" },
                                      'layout' => undef,
                                      'category' => 'fake_imap_server',
                                      'is_TRACE' => sub { "DUMMY" },
                                      'DEBUG' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ALL' => sub { "DUMMY" },
                                      'additivity' => 1,
                                      'TRACE' => sub { "DUMMY" },
                                      'ALL' => $VAR1->{'logger'}{'TRACE'},
                                      'is_FATAL' => sub { "DUMMY" },
                                      'is_WARN' => sub { "DUMMY" },
                                      'FATAL' => $VAR1->{'logger'}{'ERROR'},
                                      'appender_names' => [],
                                      'WARN' => $VAR1->{'logger'}{'ERROR'},
                                      'INFO' => $VAR1->{'logger'}{'ERROR'},
                                      'level' => undef,
                                      'num_appenders' => 0,
                                      'OFF' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ERROR' => sub { "DUMMY" }
                                    }, 'Log::Log4perl::Logger' ),
                 'imap' => {
                             'capability' => [
                                               '* CAPABILITY IMAP',
                                               '* CAPABILITY ID XLIST UIDPLUS UNSELECT MOVE',
                                               'OK CAPABILITY completed'
                                             ],
                             'login' => [
                                          '* CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE',
                                          'OK Authentication successful'
                                        ]
                           }
               }, 'fake_imap_server' );
2014/10/24 10:43:17 client connected to pid 28901
2014/10/24 10:43:17 <<<: 1 LOGIN test@localhost "123123123"
2014/10/24 10:43:17 dumper: $VAR1 = \'* CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE';
2014/10/24 10:43:17 dumper: $VAR1 = \'* CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE';
2014/10/24 10:43:17 >>>: * CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE
2014/10/24 10:43:17 dumper: $VAR1 = \'OK Authentication successful';
2014/10/24 10:43:17 dumper: $VAR1 = \'OK Authentication successful';
2014/10/24 10:43:17 >>>: OK Authentication successful
2014/10/24 10:52:49 After all parse: $VAR1 = bless( {
                 'client' => undef,
                 'test' => [
                             [
                               {
                                 'inbox' => [
                                              '001',
                                              '002',
                                              '003',
                                              '005'
                                            ]
                               },
                               {
                                 'test' => [
                                             '10',
                                             '11',
                                             '12'
                                           ]
                               }
                             ],
                             [
                               {
                                 'inbox' => [
                                              '002',
                                              '005'
                                            ]
                               },
                               {
                                 'test' => [
                                             '10'
                                           ]
                               }
                             ]
                           ],
                 'init_params' => {
                                    'test' => 'tests/test2',
                                    'mode' => 'config',
                                    'silentmode' => 'on',
                                    'port' => '8877',
                                    'log_file' => 'log.log',
                                    'message' => 'message.eml',
                                    'host' => 'localhost',
                                    'pid_file' => '/tmp/server.pid',
                                    'log_level' => '3',
                                    'config' => 'config.conf'
                                  },
                 'server' => undef,
                 'logger' => bless( {
                                      'is_OFF' => sub { "DUMMY" },
                                      'is_DEBUG' => sub { "DUMMY" },
                                      'ERROR' => sub { "DUMMY" },
                                      'is_INFO' => sub { "DUMMY" },
                                      'layout' => undef,
                                      'category' => 'fake_imap_server',
                                      'is_TRACE' => sub { "DUMMY" },
                                      'DEBUG' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ALL' => sub { "DUMMY" },
                                      'additivity' => 1,
                                      'TRACE' => sub { "DUMMY" },
                                      'ALL' => $VAR1->{'logger'}{'TRACE'},
                                      'is_FATAL' => sub { "DUMMY" },
                                      'is_WARN' => sub { "DUMMY" },
                                      'FATAL' => $VAR1->{'logger'}{'ERROR'},
                                      'appender_names' => [],
                                      'WARN' => $VAR1->{'logger'}{'ERROR'},
                                      'INFO' => $VAR1->{'logger'}{'ERROR'},
                                      'level' => undef,
                                      'num_appenders' => 0,
                                      'OFF' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ERROR' => sub { "DUMMY" }
                                    }, 'Log::Log4perl::Logger' ),
                 'imap' => {
                             'capability' => [
                                               '* CAPABILITY IMAP',
                                               '* CAPABILITY ID XLIST UIDPLUS UNSELECT MOVE',
                                               'OK CAPABILITY completed'
                                             ],
                             'login' => [
                                          '* CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE',
                                          'OK Authentication successful'
                                        ]
                           }
               }, 'fake_imap_server' );
2014/10/24 10:52:54 client connected to pid 30758
2014/10/24 10:52:54 <<<: 1 LOGIN test@localhost "123123123"
2014/10/24 10:52:54 dumper: $VAR1 = \'* CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE';
2014/10/24 10:52:54 dumper: $VAR1 = \'* CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE';
2014/10/24 10:52:54 >>>: * CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE
2014/10/24 10:52:54 dumper: $VAR1 = \'OK Authentication successful';
2014/10/24 10:52:54 dumper: $VAR1 = \'OK Authentication successful';
2014/10/24 10:52:54 >>>: OK Authentication successful
2014/10/24 10:52:54 <<<: 2 CAPABILITY
2014/10/24 10:53:14 <<<: 3 LOGOUT
2014/10/24 10:53:58 After all parse: $VAR1 = bless( {
                 'client' => undef,
                 'test' => [
                             [
                               {
                                 'inbox' => [
                                              '001',
                                              '002',
                                              '003',
                                              '005'
                                            ]
                               },
                               {
                                 'test' => [
                                             '10',
                                             '11',
                                             '12'
                                           ]
                               }
                             ],
                             [
                               {
                                 'inbox' => [
                                              '002',
                                              '005'
                                            ]
                               },
                               {
                                 'test' => [
                                             '10'
                                           ]
                               }
                             ]
                           ],
                 'init_params' => {
                                    'test' => 'tests/test2',
                                    'mode' => 'config',
                                    'silentmode' => 'on',
                                    'port' => '8877',
                                    'log_file' => 'log.log',
                                    'message' => 'message.eml',
                                    'host' => 'localhost',
                                    'pid_file' => '/tmp/server.pid',
                                    'log_level' => '3',
                                    'config' => 'config.conf'
                                  },
                 'server' => undef,
                 'logger' => bless( {
                                      'is_OFF' => sub { "DUMMY" },
                                      'is_DEBUG' => sub { "DUMMY" },
                                      'ERROR' => sub { "DUMMY" },
                                      'is_INFO' => sub { "DUMMY" },
                                      'layout' => undef,
                                      'category' => 'fake_imap_server',
                                      'is_TRACE' => sub { "DUMMY" },
                                      'DEBUG' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ALL' => sub { "DUMMY" },
                                      'additivity' => 1,
                                      'TRACE' => sub { "DUMMY" },
                                      'ALL' => $VAR1->{'logger'}{'TRACE'},
                                      'is_FATAL' => sub { "DUMMY" },
                                      'is_WARN' => sub { "DUMMY" },
                                      'FATAL' => $VAR1->{'logger'}{'ERROR'},
                                      'appender_names' => [],
                                      'WARN' => $VAR1->{'logger'}{'ERROR'},
                                      'INFO' => $VAR1->{'logger'}{'ERROR'},
                                      'level' => undef,
                                      'num_appenders' => 0,
                                      'OFF' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ERROR' => sub { "DUMMY" }
                                    }, 'Log::Log4perl::Logger' ),
                 'imap' => {
                             'capability' => [
                                               '* CAPABILITY IMAP',
                                               '* CAPABILITY ID XLIST UIDPLUS UNSELECT MOVE',
                                               'OK CAPABILITY completed'
                                             ],
                             'login' => [
                                          '* CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE',
                                          'OK Authentication successful'
                                        ]
                           }
               }, 'fake_imap_server' );
2014/10/24 10:54:01 client connected to pid 30970
2014/10/24 10:54:01 <<<: 1 LOGIN test@localhost "123123123"
2014/10/24 10:54:01 >>>: * CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE
2014/10/24 10:54:01 >>>: OK Authentication successful
2014/10/24 10:54:01 <<<: 2 CAPABILITY
2014/10/24 10:54:21 <<<: 3 LOGOUT
2014/10/24 10:55:27 After all parse: $VAR1 = bless( {
                 'client' => undef,
                 'test' => [
                             [
                               {
                                 'inbox' => [
                                              '001',
                                              '002',
                                              '003',
                                              '005'
                                            ]
                               },
                               {
                                 'test' => [
                                             '10',
                                             '11',
                                             '12'
                                           ]
                               }
                             ],
                             [
                               {
                                 'inbox' => [
                                              '002',
                                              '005'
                                            ]
                               },
                               {
                                 'test' => [
                                             '10'
                                           ]
                               }
                             ]
                           ],
                 'init_params' => {
                                    'test' => 'tests/test2',
                                    'mode' => 'config',
                                    'silentmode' => 'on',
                                    'port' => '8877',
                                    'log_file' => 'log.log',
                                    'message' => 'message.eml',
                                    'host' => 'localhost',
                                    'pid_file' => '/tmp/server.pid',
                                    'log_level' => '3',
                                    'config' => 'config.conf'
                                  },
                 'server' => undef,
                 'logger' => bless( {
                                      'is_OFF' => sub { "DUMMY" },
                                      'is_DEBUG' => sub { "DUMMY" },
                                      'ERROR' => sub { "DUMMY" },
                                      'is_INFO' => sub { "DUMMY" },
                                      'layout' => undef,
                                      'category' => 'fake_imap_server',
                                      'is_TRACE' => sub { "DUMMY" },
                                      'DEBUG' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ALL' => sub { "DUMMY" },
                                      'additivity' => 1,
                                      'TRACE' => sub { "DUMMY" },
                                      'ALL' => $VAR1->{'logger'}{'TRACE'},
                                      'is_FATAL' => sub { "DUMMY" },
                                      'is_WARN' => sub { "DUMMY" },
                                      'FATAL' => $VAR1->{'logger'}{'ERROR'},
                                      'appender_names' => [],
                                      'WARN' => $VAR1->{'logger'}{'ERROR'},
                                      'INFO' => $VAR1->{'logger'}{'ERROR'},
                                      'level' => undef,
                                      'num_appenders' => 0,
                                      'OFF' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ERROR' => sub { "DUMMY" }
                                    }, 'Log::Log4perl::Logger' ),
                 'imap' => {
                             'capability' => [
                                               '* CAPABILITY IMAP',
                                               '* CAPABILITY ID XLIST UIDPLUS UNSELECT MOVE',
                                               'OK CAPABILITY completed'
                                             ],
                             'login' => [
                                          '* CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE',
                                          'OK Authentication successful'
                                        ]
                           }
               }, 'fake_imap_server' );
2014/10/24 10:55:31 mode = 1
2014/10/24 10:55:31 client connected to pid 31290
2014/10/24 10:55:31 <<<: 1 LOGIN test@localhost "123123123"
2014/10/24 10:55:31 >>>: * CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE
2014/10/24 10:55:31 >>>: OK Authentication successful
2014/10/24 10:55:31 <<<: 2 CAPABILITY
2014/10/24 10:55:51 <<<: 3 LOGOUT
2014/10/24 10:56:39 After all parse: $VAR1 = bless( {
                 'client' => undef,
                 'test' => [
                             [
                               {
                                 'inbox' => [
                                              '001',
                                              '002',
                                              '003',
                                              '005'
                                            ]
                               },
                               {
                                 'test' => [
                                             '10',
                                             '11',
                                             '12'
                                           ]
                               }
                             ],
                             [
                               {
                                 'inbox' => [
                                              '002',
                                              '005'
                                            ]
                               },
                               {
                                 'test' => [
                                             '10'
                                           ]
                               }
                             ]
                           ],
                 'init_params' => {
                                    'test' => 'tests/test2',
                                    'silentmode' => 'on',
                                    'port' => '8877',
                                    'log_file' => 'log.log',
                                    'message' => 'message.eml',
                                    'host' => 'localhost',
                                    'pid_file' => '/tmp/server.pid',
                                    'log_level' => '3',
                                    'config' => 'config.conf'
                                  },
                 'server' => undef,
                 'logger' => bless( {
                                      'is_OFF' => sub { "DUMMY" },
                                      'is_DEBUG' => sub { "DUMMY" },
                                      'ERROR' => sub { "DUMMY" },
                                      'is_INFO' => sub { "DUMMY" },
                                      'layout' => undef,
                                      'category' => 'fake_imap_server',
                                      'is_TRACE' => sub { "DUMMY" },
                                      'DEBUG' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ALL' => sub { "DUMMY" },
                                      'additivity' => 1,
                                      'TRACE' => sub { "DUMMY" },
                                      'ALL' => $VAR1->{'logger'}{'TRACE'},
                                      'is_FATAL' => sub { "DUMMY" },
                                      'is_WARN' => sub { "DUMMY" },
                                      'FATAL' => $VAR1->{'logger'}{'ERROR'},
                                      'appender_names' => [],
                                      'WARN' => $VAR1->{'logger'}{'ERROR'},
                                      'INFO' => $VAR1->{'logger'}{'ERROR'},
                                      'level' => undef,
                                      'num_appenders' => 0,
                                      'OFF' => $VAR1->{'logger'}{'ERROR'},
                                      'is_ERROR' => sub { "DUMMY" }
                                    }, 'Log::Log4perl::Logger' ),
                 'imap' => {
                             'capability' => [
                                               '* CAPABILITY IMAP',
                                               '* CAPABILITY ID XLIST UIDPLUS UNSELECT MOVE',
                                               'OK CAPABILITY completed'
                                             ],
                             'login' => [
                                          '* CAPABILITY IMAP ID XLIST UIDPLUS UNSELECT MOVE',
                                          'OK Authentication successful'
                                        ]
                           }
               }, 'fake_imap_server' );
2014/10/24 10:56:43 mode = 0
2014/10/24 10:56:43 client connected to pid 31525
2014/10/24 10:56:43 <<<: 1 LOGIN test@localhost "123123123"
2014/10/24 10:56:43 >>>: OK Authentication successful
2014/10/24 10:56:43 <<<: 2 CAPABILITY
